Script started on 2025-04-17 22:07:35-06:00 [TERM="xterm-256color" TTY="/dev/pts/0" COLUMNS="219" LINES="28"]
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ exitvi WeatherHandler.h ^C
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ ^C
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ ./script/generate_request.sh 
Inside Nginx Lua script: Processing Order... Request from: 1
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 2
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 3
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 4
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 5
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 6
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 7
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 8
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 9
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 10
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 11
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 12
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 13
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 14
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 15
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 16
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 17
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 18
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 19
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 20
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 21
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 22
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 23
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 24
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 25
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 26
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 27
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 28
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 29
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 30
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 31
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 32
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 33
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 34
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 35
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 36
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 37
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 38
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 39
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 40
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 41
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 42
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 43
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 44
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 45
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 46
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 47
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 48
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 49
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 50
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 51
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 52
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 53
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 54
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 55
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 56
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 57
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 58
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 59
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 60
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 61
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 62
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 63
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 64
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 65
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 66
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 67
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 68
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 69
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 70
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 71
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 72
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 73
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 74
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 75
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 76
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 77
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 78
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 79
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 80
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 81
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 82
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 83
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 84
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 85
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 86
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 87
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 88
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 89
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 90
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 91
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 92
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 93
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 94
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 95
Status: true
Beverage Type: Cold beverage
Inside Nginx Lua script: Processing Order... Request from: 96
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 97
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 98
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 99
Status: true
Beverage Type: Hot beverage
Inside Nginx Lua script: Processing Order... Request from: 100
Status: true
Beverage Type: Cold beverage
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo dcoker-compose down[C[1P[C[1@c
Stopping vendingmachine_tutorial_nginx-thrift_1           ... 
Stopping vendingmachine_tutorial_weather-service_1        ... 
Stopping vendingmachine_tutorial_order-beverage-service_1 ... 
[3A[2KStopping vendingmachine_tutorial_nginx-thrift_1           ... [32mdone[0m[3B[1A[2KStopping vendingmachine_tutorial_order-beverage-service_1 ... [32mdone[0m[1B[2A[2KStopping vendingmachine_tutorial_weather-service_1        ... [32mdone[0m[2BRemoving vendingmachine_tutorial_nginx-thrift_1           ... 
Removing vendingmachine_tutorial_weather-service_1        ... 
Removing vendingmachine_tutorial_order-beverage-service_1 ... 
[1A[2KRemoving vendingmachine_tutorial_order-beverage-service_1 ... [32mdone[0m[1B[2A[2KRemoving vendingmachine_tutorial_weather-service_1        ... [32mdone[0m[2B[3A[2KRemoving vendingmachine_tutorial_nginx-thrift_1           ... [32mdone[0m[3BRemoving network vendingmachine_tutorial_default
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ th[Khroft [K[K[K[Kift --gen cpp vending-m[K[K_machine.thrift 
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sui[K[K[Ksudo docker images -a
REPOSITORY                                  TAG       IMAGE ID       CREATED         SIZE
nikhilns221/vending-machine-microservices   latest    4bc67db4d984   2 minutes ago   911MB
<none>                                      <none>    a96b56e418a4   2 minutes ago   911MB
<none>                                      <none>    0d9852d28da4   2 minutes ago   903MB
<none>                                      <none>    c94eec9f33ba   2 minutes ago   904MB
yg397/thrift-microservice-deps              xenial    1e2915736663   3 years ago     903MB
yg397/openresty-thrift                      xenial    71414b07488e   3 years ago     617MB
probir/vending-machine-microservices        latest    83a81ca29d2e   4 years ago     768MB
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ do[K[Ksudo docker rmi 4bc67db4d984
Untagged: nikhilns221/vending-machine-microservices:latest
Deleted: sha256:4bc67db4d984f4018be8688a8cd182745ca0ede7dd116e8ba4c17990e22e64bb
Deleted: sha256:a96b56e418a49b2f5d5f86b4d97bfba92f9a90f6a89bc1dfda7caf51be1592a7
Deleted: sha256:3b89562ed28acdbc80bfb8a5c6d17d12955e3d0901fcb92d4bf7d58cfe60b51a
Deleted: sha256:c94eec9f33ba68886f72ac1ef0e481bde1ad92248509aebf52171125366385a4
Deleted: sha256:d1dc765b62c937b968135c6d0eba91c429887fb081018e37001dad24ce45c1a0
Deleted: sha256:0d9852d28da411aa56ed86aa50eb0969af732da257357c1b7495b914617c266f
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker rmi 4bc67db4d984[7Pimages -a
REPOSITORY                             TAG       IMAGE ID       CREATED       SIZE
yg397/thrift-microservice-deps         xenial    1e2915736663   3 years ago   903MB
yg397/openresty-thrift                 xenial    71414b07488e   3 years ago   617MB
probir/vending-machine-microservices   latest    83a81ca29d2e   4 years ago   768MB
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker images -armi 4bc67db4d984[K[K[K[K[K[K[K[K[K[K[K[K83a81ca29d2e
Untagged: probir/vending-machine-microservices:latest
Untagged: probir/vending-machine-microservices@sha256:d142936a86d0d8dfe0e67e20888fd1df90f0aa1f0d6014b2e64ca3d003d520a0
Deleted: sha256:83a81ca29d2e090d83339c8175146a8137fe0fff930fdf881ba8ac51589aaf1f
Deleted: sha256:3661e71508e12156dac87fa17c12617da44461112387809b6e3959a0224e7d47
Deleted: sha256:63b6146edac3c9cc18b417b8aeca0a3d777e486d7b6c48920e7beafd1d7c5c0a
Deleted: sha256:7e9552b27c43d692efebdab32017344f636fba279de67ba8f2bdd271c0dc6e0b
Deleted: sha256:fa1c67932526eb0c71c57ed7571418e25a56946c04c2529380bfa66c87a08deb
Deleted: sha256:59a6856f439d187f3ce3381d0a6b0816db99cc3d8468bcf8c9d1c39d2071dcff
Deleted: sha256:82997a16a0d57ac7d8b416c0d83f5841193b6a56a7844b486ab6324730867fe0
Deleted: sha256:5c6983f277f26021b5e38501fdf06fa29f7158a93641f3f10aedbdc9869121d0
Deleted: sha256:aa54c2bc12290df2851a94b8834cae75e4627219d2b423d4d3db8b0a497e79a2
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker rmi 83a81ca29d2e[7Pimages -a
REPOSITORY                       TAG       IMAGE ID       CREATED       SIZE
yg397/thrift-microservice-deps   xenial    1e2915736663   3 years ago   903MB
yg397/openresty-thrift           xenial    71414b07488e   3 years ago   617MB
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker images -armi 83a81ca29d2e[K[K[K[K[K[K[K[K[K[K[K[Kyg397/openresty-thrift
Error response from daemon: No such image: yg397/openresty-thrift:latest
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker rmi yg397/openresty-thrift[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Kyg397/thrift-microservice-deps
Error response from daemon: No such image: yg397/thrift-microservice-deps:latest
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ thrift --gen cpp vending_machine.thrift 
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ docke[K[K[K[K[Ksudo docker-compose build
weather-service uses an image, skipping
nginx-thrift uses an image, skipping
Building order-beverage-service
Step 1/5 : FROM yg397/thrift-microservice-deps:xenial
 ---> 1e2915736663
Step 2/5 : ARG NUM_CPUS=4
 ---> Running in 3456ae8de0ec
 ---> Removed intermediate container 3456ae8de0ec
 ---> 9aec4221eef1
Step 3/5 : COPY ./ /vending-machine-microservices
 ---> 6533c50e2748
Step 4/5 : RUN cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install
 ---> Running in 2aa65a0d5813
-- The C compiler identification is GNU 5.4.0
-- The CXX compiler identification is GNU 5.4.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- THRIFT_HOME: 
-- Thrift version: Thrift version 0.12.0
-- Found libevent: /usr/lib/x86_64-linux-gnu/libevent.so
-- Found nlohmann_json: /usr/local/lib/cmake/nlohmann_json/nlohmann_jsonConfig.cmake (found suitable version "3.6.1", minimum required is "3.5.0") 
-- Looking for pthread.h
-- Looking for pthread.h - found
-- Looking for pthread_create
-- Looking for pthread_create - not found
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE  
-- Found OpenSSL: /usr/lib/x86_64-linux-gnu/libssl.so;/usr/lib/x86_64-linux-gnu/libcrypto.so (found version "1.0.2g") 
-- Boost version: 1.58.0
-- Found the following Boost libraries:
--   log
--   log_setup
--   date_time
--   system
--   filesystem
--   thread
--   regex
--   chrono
--   atomic
-- Configuring done
-- Generating done
-- Build files have been written to: /vending-machine-microservices/build
Scanning dependencies of target WeatherService
Scanning dependencies of target OrderBeverageService
[ 44%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/__/__/gen-cpp/vending_machine_types.cpp.o
[ 44%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/WeatherService.cpp.o
[ 44%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/OrderBeverageService.cpp.o
[ 44%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/__/__/gen-cpp/WeatherService.cpp.o
[ 55%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/OrderBeverageService.cpp.o
[ 66%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/WeatherService.cpp.o
[ 77%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/vending_machine_types.cpp.o
[ 88%] Linking CXX executable WeatherService
[ 88%] Built target WeatherService
[100%] Linking CXX executable OrderBeverageService
[100%] Built target OrderBeverageService
[ 55%] Built target OrderBeverageService
[100%] Built target WeatherService
Install the project...
-- Install configuration: ""
-- Installing: /usr/local/bin/./OrderBeverageService
-- Set runtime path of "/usr/local/bin/./OrderBeverageService" to ""
-- Installing: /usr/local/bin/./WeatherService
-- Set runtime path of "/usr/local/bin/./WeatherService" to ""
 ---> Removed intermediate container 2aa65a0d5813
 ---> 7b502fcea679
Step 5/5 : WORKDIR /vending-machine-microservices
 ---> Running in 6845b84267d6
 ---> Removed intermediate container 6845b84267d6
 ---> 459526ad426e
Successfully built 459526ad426e
Successfully tagged nikhilns221/vending-machine-microservices:latest
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker-compose build[K[K[K[K[Kup
Creating network "vendingmachine_tutorial_default" with the default driver
Creating vendingmachine_tutorial_nginx-thrift_1 ... 
Creating vendingmachine_tutorial_weather-service_1 ... 
Creating vendingmachine_tutorial_order-beverage-service_1 ... 
[2A[2KCreating vendingmachine_tutorial_weather-service_1        ... [32mdone[0m[2B[3A[2KCreating vendingmachine_tutorial_nginx-thrift_1           ... [32mdone[0m[3B[1A[2KCreating vendingmachine_tutorial_order-beverage-service_1 ... [32mdone[0m[1BAttaching to vendingmachine_tutorial_weather-service_1, vendingmachine_tutorial_nginx-thrift_1, vendingmachine_tutorial_order-beverage-service_1
[32mweather-service_1         |[0m Starting the weather server ...
[33morder-beverage-service_1  |[0m Starting the order-beverage server ...
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:29 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:29 +0000] "POST / HTTP/1.1" 200 124 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:29 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:29 +0000] "POST / HTTP/1.1" 200 124 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:29 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:29 +0000] "POST / HTTP/1.1" 200 124 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:29 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:29 +0000] "POST / HTTP/1.1" 200 124 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:29 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:29 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:29 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:29 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:29 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:29 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:29 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:29 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:29 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:29 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:29 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:29 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:29 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:29 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:29 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:29 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:29 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:29 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:29 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:29 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:29 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:29 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:29 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:29 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:29 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:29 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:30 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:31 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:31 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:31 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:31 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:31 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:31 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:31 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:31 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:31 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:31 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:31 +0000] "POST / HTTP/1.1" 200 125 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:31 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
[36mnginx-thrift_1            |[0m 172.24.0.1 - - [18/Apr/2025:04:12:31 +0000] "POST / HTTP/1.1" 200 126 "-" "curl/7.68.0"
^CGracefully stopping... (press Ctrl+C again to force)
Stopping vendingmachine_tutorial_weather-service_1        ... 
Stopping vendingmachine_tutorial_order-beverage-service_1 ... 
Stopping vendingmachine_tutorial_nginx-thrift_1           ... 
[1A[2KStopping vendingmachine_tutorial_nginx-thrift_1           ... [32mdone[0m[1B[3A[2KStopping vendingmachine_tutorial_weather-service_1        ... [32mdone[0m[3B[2A[2KStopping vendingmachine_tutorial_order-beverage-service_1 ... [32mdone[0m[2B]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ gyujtyfujfty[K[K[K[K[K[K[K[K[K[K[K[Kthrift --gen cpp vending_machine.thrift
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ ls
abc.txt             Dockerfile   [0m[01;34mnginx_reverse_proxy[0m  [01;35mvendingmachine.png[0m
[01;34mcmake[0m               [01;34mgen-cpp[0m      Readme.md            vending_machine.thrift
CMakeLists.txt      [01;34mgen-cpp-org[0m  [01;34mscript[0m
[01;34mconfig[0m              [01;34mgen-lua[0m      [01;34msrc[0m
docker-compose.yml  [01;34mgen-py[0m       typescript
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ cd src
]0;Nikhilns@node2: ~/vendingmachine_tutorial/src[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial/src[00m$ mdk[Kir[K[K[Kkdir BeveragePreferenceService
]0;Nikhilns@node2: ~/vendingmachine_tutorial/src[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial/src[00m$ cd BeveragePreferenceService/
]0;Nikhilns@node2: ~/vendingmachine_tutorial/src/BeveragePreferenceService[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial/src/BeveragePreferenceService[00m$ ls
BeveragePreferenceServiceHandler.h
]0;Nikhilns@node2: ~/vendingmachine_tutorial/src/BeveragePreferenceService[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial/src/BeveragePreferenceService[00m$ ls
BeveragePreferenceService.cpp  BeveragePreferenceServiceHandler.h  CMakeLists.txt
]0;Nikhilns@node2: ~/vendingmachine_tutorial/src/BeveragePreferenceService[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial/src/BeveragePreferenceService[00m$ cd ../..
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ thrift --gen cpp vending_machine.thrift
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ thrift --gen cpp vending_machine.thriftcd ../..[Kls[Kcd BeveragePreferenceService/mkdir BeveragePreferenceServicecd src[K[4Plsthrift --gen cpp vending_machine.thrift[17Psudo docker-compose upbuildthrift --gen cpp vending_machine.thrift [15Psudo docker-compose build
weather-service uses an image, skipping
nginx-thrift uses an image, skipping
Building order-beverage-service
Step 1/5 : FROM yg397/thrift-microservice-deps:xenial
 ---> 1e2915736663
Step 2/5 : ARG NUM_CPUS=4
 ---> Using cache
 ---> 9aec4221eef1
Step 3/5 : COPY ./ /vending-machine-microservices
 ---> b331b39e4193
Step 4/5 : RUN cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install
 ---> Running in f889b773135b
-- The C compiler identification is GNU 5.4.0
-- The CXX compiler identification is GNU 5.4.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- THRIFT_HOME: 
-- Thrift version: Thrift version 0.12.0
-- Found libevent: /usr/lib/x86_64-linux-gnu/libevent.so
-- Found nlohmann_json: /usr/local/lib/cmake/nlohmann_json/nlohmann_jsonConfig.cmake (found suitable version "3.6.1", minimum required is "3.5.0") 
-- Looking for pthread.h
-- Looking for pthread.h - found
-- Looking for pthread_create
-- Looking for pthread_create - not found
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE  
-- Found OpenSSL: /usr/lib/x86_64-linux-gnu/libssl.so;/usr/lib/x86_64-linux-gnu/libcrypto.so (found version "1.0.2g") 
-- Boost version: 1.58.0
-- Found the following Boost libraries:
--   log
--   log_setup
--   date_time
--   system
--   filesystem
--   thread
--   regex
--   chrono
--   atomic
-- Configuring done
-- Generating done
-- Build files have been written to: /vending-machine-microservices/build
Scanning dependencies of target WeatherService
Scanning dependencies of target OrderBeverageService
[ 44%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/__/__/gen-cpp/WeatherService.cpp.o
[ 44%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/OrderBeverageService.cpp.o
[ 44%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/__/__/gen-cpp/vending_machine_types.cpp.o
[ 44%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/WeatherService.cpp.o
[ 55%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/OrderBeverageService.cpp.o
[ 66%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/WeatherService.cpp.o
[ 77%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/vending_machine_types.cpp.o
[ 88%] Linking CXX executable WeatherService
[ 88%] Built target WeatherService
[100%] Linking CXX executable OrderBeverageService
[100%] Built target OrderBeverageService
[ 55%] Built target OrderBeverageService
[100%] Built target WeatherService
Install the project...
-- Install configuration: ""
-- Installing: /usr/local/bin/./OrderBeverageService
-- Set runtime path of "/usr/local/bin/./OrderBeverageService" to ""
-- Installing: /usr/local/bin/./WeatherService
-- Set runtime path of "/usr/local/bin/./WeatherService" to ""
 ---> Removed intermediate container f889b773135b
 ---> 20bf60e9ebed
Step 5/5 : WORKDIR /vending-machine-microservices
 ---> Running in 702a12abbb77
 ---> Removed intermediate container 702a12abbb77
 ---> 8a291079afe2
Successfully built 8a291079afe2
Successfully tagged nikhilns221/vending-machine-microservices:latest
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker-compose buildthrift --gen cpp vending_machine.thriftcd ../..[Kls[Kcd BeveragePreferenceService/mkdir BeveragePreferenceServicecd src[K[4Plsthrift --gen cpp vending_machine.thrift[17Psudo docker-compose upbuild[3Pup
Recreating vendingmachine_tutorial_order-beverage-service_1 ... 
Recreating vendingmachine_tutorial_weather-service_1        ... 
Starting vendingmachine_tutorial_nginx-thrift_1             ... 
[1A[2KStarting vendingmachine_tutorial_nginx-thrift_1             ... [32mdone[0m[1B[2A[2KRecreating vendingmachine_tutorial_weather-service_1        ... [32mdone[0m[2B[3A[2KRecreating vendingmachine_tutorial_order-beverage-service_1 ... [32mdone[0m[3BAttaching to vendingmachine_tutorial_nginx-thrift_1, vendingmachine_tutorial_weather-service_1, vendingmachine_tutorial_order-beverage-service_1
[33morder-beverage-service_1  |[0m Starting the order-beverage server ...
[32mweather-service_1         |[0m Starting the weather server ...
^CGracefully stopping... (press Ctrl+C again to force)
Stopping vendingmachine_tutorial_weather-service_1          ... 
Stopping vendingmachine_tutorial_order-beverage-service_1   ... 
Stopping vendingmachine_tutorial_nginx-thrift_1             ... 
[1A[2KStopping vendingmachine_tutorial_nginx-thrift_1             ... [32mdone[0m[1B[2A[2KStopping vendingmachine_tutorial_order-beverage-service_1   ... [32mdone[0m[2B[3A[2KStopping vendingmachine_tutorial_weather-service_1          ... [32mdone[0m[3B]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker-compose upbuildthrift --gen cpp vending_machine.thriftcd ../..[Kthrift --gen cpp vending_machine.thrift
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ thrift --gen cpp vending_machine.thrift[17Psudo docker-compose upbuildthrift --gen cpp vending_machine.thrift[14Psudo docker-compose build
weather-service uses an image, skipping
nginx-thrift uses an image, skipping
Building order-beverage-service
Step 1/5 : FROM yg397/thrift-microservice-deps:xenial
 ---> 1e2915736663
Step 2/5 : ARG NUM_CPUS=4
 ---> Using cache
 ---> 9aec4221eef1
Step 3/5 : COPY ./ /vending-machine-microservices
 ---> 4957f4bd6b67
Step 4/5 : RUN cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install
 ---> Running in 1584e42cf9ee
-- The C compiler identification is GNU 5.4.0
-- The CXX compiler identification is GNU 5.4.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- THRIFT_HOME: 
-- Thrift version: Thrift version 0.12.0
-- Found libevent: /usr/lib/x86_64-linux-gnu/libevent.so
-- Found nlohmann_json: /usr/local/lib/cmake/nlohmann_json/nlohmann_jsonConfig.cmake (found suitable version "3.6.1", minimum required is "3.5.0") 
-- Looking for pthread.h
-- Looking for pthread.h - found
-- Looking for pthread_create
-- Looking for pthread_create - not found
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE  
-- Found OpenSSL: /usr/lib/x86_64-linux-gnu/libssl.so;/usr/lib/x86_64-linux-gnu/libcrypto.so (found version "1.0.2g") 
-- Boost version: 1.58.0
-- Found the following Boost libraries:
--   log
--   log_setup
--   date_time
--   system
--   filesystem
--   thread
--   regex
--   chrono
--   atomic
-- Configuring done
-- Generating done
-- Build files have been written to: /vending-machine-microservices/build
Scanning dependencies of target WeatherService
Scanning dependencies of target OrderBeverageService
[ 44%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/WeatherService.cpp.o
[ 44%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/__/__/gen-cpp/WeatherService.cpp.o
[ 44%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/OrderBeverageService.cpp.o
[ 44%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/__/__/gen-cpp/vending_machine_types.cpp.o
[ 55%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/OrderBeverageService.cpp.o
[ 66%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/WeatherService.cpp.o
[ 77%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/vending_machine_types.cpp.o
[ 88%] Linking CXX executable WeatherService
[ 88%] Built target WeatherService
[100%] Linking CXX executable OrderBeverageService
[100%] Built target OrderBeverageService
[ 55%] Built target OrderBeverageService
[100%] Built target WeatherService
Install the project...
-- Install configuration: ""
-- Installing: /usr/local/bin/./OrderBeverageService
-- Set runtime path of "/usr/local/bin/./OrderBeverageService" to ""
-- Installing: /usr/local/bin/./WeatherService
-- Set runtime path of "/usr/local/bin/./WeatherService" to ""
 ---> Removed intermediate container 1584e42cf9ee
 ---> 035ca7cbb5ad
Step 5/5 : WORKDIR /vending-machine-microservices
 ---> Running in cef250c480da
 ---> Removed intermediate container cef250c480da
 ---> 00f609152a32
Successfully built 00f609152a32
Successfully tagged nikhilns221/vending-machine-microservices:latest
Building beverage-preference-service
Step 1/5 : FROM yg397/thrift-microservice-deps:xenial
 ---> 1e2915736663
Step 2/5 : ARG NUM_CPUS=4
 ---> Using cache
 ---> 9aec4221eef1
Step 3/5 : COPY ./ /vending-machine-microservices
 ---> 9aa6da3132dc
Step 4/5 : RUN cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install
 ---> Running in 799b20616e6f
-- The C compiler identification is GNU 5.4.0
-- The CXX compiler identification is GNU 5.4.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- THRIFT_HOME: 
-- Thrift version: Thrift version 0.12.0
-- Found libevent: /usr/lib/x86_64-linux-gnu/libevent.so
-- Found nlohmann_json: /usr/local/lib/cmake/nlohmann_json/nlohmann_jsonConfig.cmake (found suitable version "3.6.1", minimum required is "3.5.0") 
-- Looking for pthread.h
-- Looking for pthread.h - found
-- Looking for pthread_create
-- Looking for pthread_create - not found
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE  
-- Found OpenSSL: /usr/lib/x86_64-linux-gnu/libssl.so;/usr/lib/x86_64-linux-gnu/libcrypto.so (found version "1.0.2g") 
-- Boost version: 1.58.0
-- Found the following Boost libraries:
--   log
--   log_setup
--   date_time
--   system
--   filesystem
--   thread
--   regex
--   chrono
--   atomic
-- Configuring done
-- Generating done
-- Build files have been written to: /vending-machine-microservices/build
Scanning dependencies of target WeatherService
Scanning dependencies of target OrderBeverageService
[ 44%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/OrderBeverageService.cpp.o
[ 44%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/__/__/gen-cpp/WeatherService.cpp.o
[ 44%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/WeatherService.cpp.o
[ 44%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/__/__/gen-cpp/vending_machine_types.cpp.o
[ 55%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/OrderBeverageService.cpp.o
[ 66%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/WeatherService.cpp.o
[ 77%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/vending_machine_types.cpp.o
[ 88%] Linking CXX executable WeatherService
[ 88%] Built target WeatherService
[100%] Linking CXX executable OrderBeverageService
[100%] Built target OrderBeverageService
[ 55%] Built target OrderBeverageService
[100%] Built target WeatherService
Install the project...
-- Install configuration: ""
-- Installing: /usr/local/bin/./OrderBeverageService
-- Set runtime path of "/usr/local/bin/./OrderBeverageService" to ""
-- Installing: /usr/local/bin/./WeatherService
-- Set runtime path of "/usr/local/bin/./WeatherService" to ""
 ---> Removed intermediate container 799b20616e6f
 ---> 55ca7a6de4a9
Step 5/5 : WORKDIR /vending-machine-microservices
 ---> Running in 40dc0c9a5b0a
 ---> Removed intermediate container 40dc0c9a5b0a
 ---> 989025ea7e50
Successfully built 989025ea7e50
Successfully tagged nikhilns221/vending-machine-microservices:latest
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker-compose buildthrift --gen cpp vending_machine.thrift[17Psudo docker-compose up
Recreating vendingmachine_tutorial_order-beverage-service_1 ... 
Starting vendingmachine_tutorial_nginx-thrift_1             ... 
Recreating vendingmachine_tutorial_weather-service_1        ... 
Creating vendingmachine_tutorial_beverage-preference-service_1 ... 
[3A[2KStarting vendingmachine_tutorial_nginx-thrift_1                ... [32mdone[0m[3B[4A[2KRecreating vendingmachine_tutorial_order-beverage-service_1    ... [32mdone[0m[4B[2A[2KRecreating vendingmachine_tutorial_weather-service_1           ... [32mdone[0m[2B[1A[2KCreating vendingmachine_tutorial_beverage-preference-service_1 ... [31merror[0m[1B
ERROR: for vendingmachine_tutorial_beverage-preference-service_1  Cannot start service beverage-preference-service: failed to create task for container: failed to create shim task: OCI runtime create failed: runc create failed: unable to start container process: exec: "BeveragePreferenceService": executable file not found in $PATH: unknown

ERROR: for beverage-preference-service  Cannot start service beverage-preference-service: failed to create task for container: failed to create shim task: OCI runtime create failed: runc create failed: unable to start container process: exec: "BeveragePreferenceService": executable file not found in $PATH: unknown
[31mERROR[0m: Encountered errors while bringing up the project.
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ docker-compose up --build beverage-preference-service
[31mERROR[0m: Couldn't connect to Docker daemon at http+docker://localhost - is it running?

If it's at a non-standard location, specify the URL with the DOCKER_HOST environment variable.
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ docker-compose up --build beverage-preference-service[A]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [25Psudo docker-compose up
[K[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cbuildthrift --gen cpp vending_machine.thrift
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ thrift --gen cpp vending_machine.thriftdocker-compose up --build beverage-preference-service
[31mERROR[0m: Couldn't connect to Docker daemon at http+docker://localhost - is it running?

If it's at a non-standard location, specify the URL with the DOCKER_HOST environment variable.
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ docker-compose up --build beverage-preference-service[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Csdocker-compose up --build beverage-preference-service[A]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [Cudocker-compose up --build beverage-preference-service[A]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [C[C[Cdocker-compose up --build beverage-preference-service[A]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [C[C[Codocker-compose up --build beverage-preference-service[A]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [C[C[C[C docker-compose up --build beverage-preference-service[A]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [C[C[C[C[C

Building beverage-preference-service
Step 1/5 : FROM yg397/thrift-microservice-deps:xenial
 ---> 1e2915736663
Step 2/5 : ARG NUM_CPUS=4
 ---> Using cache
 ---> 9aec4221eef1
Step 3/5 : COPY ./ /vending-machine-microservices
 ---> 75d712e3af1d
Step 4/5 : RUN cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install
 ---> Running in a02c723d4a45
-- The C compiler identification is GNU 5.4.0
-- The CXX compiler identification is GNU 5.4.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- THRIFT_HOME: 
-- Thrift version: Thrift version 0.12.0
-- Found libevent: /usr/lib/x86_64-linux-gnu/libevent.so
-- Found nlohmann_json: /usr/local/lib/cmake/nlohmann_json/nlohmann_jsonConfig.cmake (found suitable version "3.6.1", minimum required is "3.5.0") 
-- Looking for pthread.h
-- Looking for pthread.h - found
-- Looking for pthread_create
-- Looking for pthread_create - not found
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE  
-- Found OpenSSL: /usr/lib/x86_64-linux-gnu/libssl.so;/usr/lib/x86_64-linux-gnu/libcrypto.so (found version "1.0.2g") 
-- Boost version: 1.58.0
-- Found the following Boost libraries:
--   log
--   log_setup
--   date_time
--   system
--   filesystem
--   thread
--   regex
--   chrono
--   atomic
-- Configuring done
-- Generating done
-- Build files have been written to: /vending-machine-microservices/build
Scanning dependencies of target WeatherService
Scanning dependencies of target OrderBeverageService
[ 44%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/WeatherService.cpp.o
[ 44%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/__/__/gen-cpp/WeatherService.cpp.o
[ 44%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/__/__/gen-cpp/vending_machine_types.cpp.o
[ 44%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/OrderBeverageService.cpp.o
[ 55%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/OrderBeverageService.cpp.o
[ 66%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/WeatherService.cpp.o
[ 77%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/vending_machine_types.cpp.o
[ 88%] Linking CXX executable WeatherService
[ 88%] Built target WeatherService
[100%] Linking CXX executable OrderBeverageService
[100%] Built target OrderBeverageService
[ 55%] Built target OrderBeverageService
[100%] Built target WeatherService
Install the project...
-- Install configuration: ""
-- Installing: /usr/local/bin/./OrderBeverageService
-- Set runtime path of "/usr/local/bin/./OrderBeverageService" to ""
-- Installing: /usr/local/bin/./WeatherService
-- Set runtime path of "/usr/local/bin/./WeatherService" to ""
 ---> Removed intermediate container a02c723d4a45
 ---> eea9fc8d3d55
Step 5/5 : WORKDIR /vending-machine-microservices
 ---> Running in d7b0d82a70ae
 ---> Removed intermediate container d7b0d82a70ae
 ---> 631187ed7d90
Successfully built 631187ed7d90
Successfully tagged nikhilns221/vending-machine-microservices:latest
Recreating vendingmachine_tutorial_beverage-preference-service_1 ... 
[1A[2KRecreating vendingmachine_tutorial_beverage-preference-service_1 ... [31merror[0m[1B
ERROR: for vendingmachine_tutorial_beverage-preference-service_1  Cannot start service beverage-preference-service: failed to create task for container: failed to create shim task: OCI runtime create failed: runc create failed: unable to start container process: exec: "BeveragePreferenceService": executable file not found in $PATH: unknown

ERROR: for beverage-preference-service  Cannot start service beverage-preference-service: failed to create task for container: failed to create shim task: OCI runtime create failed: runc create failed: unable to start container process: exec: "BeveragePreferenceService": executable file not found in $PATH: unknown
[31mERROR[0m: Encountered errors while bringing up the project.
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ thrift --gen cpp vending_machine.thrift
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ thrift --gen cpp vending_machine.thrift
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker-compose down -v
Stopping vendingmachine_tutorial_weather-service_1        ... 
Stopping vendingmachine_tutorial_order-beverage-service_1 ... 
Stopping vendingmachine_tutorial_nginx-thrift_1           ... 
[1A[2KStopping vendingmachine_tutorial_nginx-thrift_1           ... [32mdone[0m[1B[2A[2KStopping vendingmachine_tutorial_order-beverage-service_1 ... [32mdone[0m[2B[3A[2KStopping vendingmachine_tutorial_weather-service_1        ... [32mdone[0m[3BRemoving vendingmachine_tutorial_beverage-preference-service_1              ... 
Removing f086de7b81ae_vendingmachine_tutorial_beverage-preference-service_1 ... 
Removing vendingmachine_tutorial_weather-service_1                          ... 
Removing vendingmachine_tutorial_order-beverage-service_1                   ... 
Removing vendingmachine_tutorial_nginx-thrift_1                             ... 
[1A[2KRemoving vendingmachine_tutorial_nginx-thrift_1                             ... [32mdone[0m[1B[3A[2KRemoving vendingmachine_tutorial_weather-service_1                          ... [32mdone[0m[3B[5A[2KRemoving vendingmachine_tutorial_beverage-preference-service_1              ... [32mdone[0m[5B[4A[2KRemoving f086de7b81ae_vendingmachine_tutorial_beverage-preference-service_1 ... [32mdone[0m[4B[2A[2KRemoving vendingmachine_tutorial_order-beverage-service_1                   ... [32mdone[0m[2BRemoving network vendingmachine_tutorial_default
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker-composr[Ke down
Removing network vendingmachine_tutorial_default
[33mWARNING[0m: Network vendingmachine_tutorial_default not found.
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker-compose up -d[K[K[K[K[Kbuild
weather-service uses an image, skipping
nginx-thrift uses an image, skipping
Building order-beverage-service
Step 1/5 : FROM yg397/thrift-microservice-deps:xenial
 ---> 1e2915736663
Step 2/5 : ARG NUM_CPUS=4
 ---> Using cache
 ---> 9aec4221eef1
Step 3/5 : COPY ./ /vending-machine-microservices
 ---> 7965878598ea
Step 4/5 : RUN cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install
 ---> Running in 102ca6d45749
-- The C compiler identification is GNU 5.4.0
-- The CXX compiler identification is GNU 5.4.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- THRIFT_HOME: 
-- Thrift version: Thrift version 0.12.0
-- Found libevent: /usr/lib/x86_64-linux-gnu/libevent.so
-- Found nlohmann_json: /usr/local/lib/cmake/nlohmann_json/nlohmann_jsonConfig.cmake (found suitable version "3.6.1", minimum required is "3.5.0") 
-- Looking for pthread.h
-- Looking for pthread.h - found
-- Looking for pthread_create
-- Looking for pthread_create - not found
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE  
-- Found OpenSSL: /usr/lib/x86_64-linux-gnu/libssl.so;/usr/lib/x86_64-linux-gnu/libcrypto.so (found version "1.0.2g") 
-- Boost version: 1.58.0
-- Found the following Boost libraries:
--   log
--   log_setup
--   date_time
--   system
--   filesystem
--   thread
--   regex
--   chrono
--   atomic
-- Configuring done
-- Generating done
-- Build files have been written to: /vending-machine-microservices/build
Scanning dependencies of target WeatherService
Scanning dependencies of target OrderBeverageService
[ 44%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/WeatherService.cpp.o
[ 44%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/__/__/gen-cpp/WeatherService.cpp.o
[ 44%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/OrderBeverageService.cpp.o
[ 44%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/__/__/gen-cpp/vending_machine_types.cpp.o
[ 55%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/OrderBeverageService.cpp.o
[ 66%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/WeatherService.cpp.o
[ 77%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/vending_machine_types.cpp.o
[ 88%] Linking CXX executable WeatherService
[ 88%] Built target WeatherService
[100%] Linking CXX executable OrderBeverageService
[100%] Built target OrderBeverageService
[ 55%] Built target OrderBeverageService
[100%] Built target WeatherService
Install the project...
-- Install configuration: ""
-- Installing: /usr/local/bin/./OrderBeverageService
-- Set runtime path of "/usr/local/bin/./OrderBeverageService" to ""
-- Installing: /usr/local/bin/./WeatherService
-- Set runtime path of "/usr/local/bin/./WeatherService" to ""
 ---> Removed intermediate container 102ca6d45749
 ---> 5e53b58dd6bd
Step 5/5 : WORKDIR /vending-machine-microservices
 ---> Running in af0502a80c0d
 ---> Removed intermediate container af0502a80c0d
 ---> 0c8745cb9df0
Successfully built 0c8745cb9df0
Successfully tagged nikhilns221/vending-machine-microservices:latest
Building beverage-preference-service
Step 1/5 : FROM yg397/thrift-microservice-deps:xenial
 ---> 1e2915736663
Step 2/5 : ARG NUM_CPUS=4
 ---> Using cache
 ---> 9aec4221eef1
Step 3/5 : COPY ./ /vending-machine-microservices
 ---> 183056efa9e1
Step 4/5 : RUN cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install
 ---> Running in 95add715e25f
-- The C compiler identification is GNU 5.4.0
-- The CXX compiler identification is GNU 5.4.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- THRIFT_HOME: 
-- Thrift version: Thrift version 0.12.0
-- Found libevent: /usr/lib/x86_64-linux-gnu/libevent.so
-- Found nlohmann_json: /usr/local/lib/cmake/nlohmann_json/nlohmann_jsonConfig.cmake (found suitable version "3.6.1", minimum required is "3.5.0") 
-- Looking for pthread.h
-- Looking for pthread.h - found
-- Looking for pthread_create
-- Looking for pthread_create - not found
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE  
-- Found OpenSSL: /usr/lib/x86_64-linux-gnu/libssl.so;/usr/lib/x86_64-linux-gnu/libcrypto.so (found version "1.0.2g") 
-- Boost version: 1.58.0
-- Found the following Boost libraries:
--   log
--   log_setup
--   date_time
--   system
--   filesystem
--   thread
--   regex
--   chrono
--   atomic
-- Configuring done
-- Generating done
-- Build files have been written to: /vending-machine-microservices/build
Scanning dependencies of target WeatherService
Scanning dependencies of target OrderBeverageService
[ 44%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/OrderBeverageService.cpp.o
[ 44%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/__/__/gen-cpp/vending_machine_types.cpp.o
[ 44%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/WeatherService.cpp.o
[ 44%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/__/__/gen-cpp/WeatherService.cpp.o
[ 55%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/OrderBeverageService.cpp.o
[ 66%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/WeatherService.cpp.o
[ 77%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/vending_machine_types.cpp.o
[ 88%] Linking CXX executable WeatherService
[ 88%] Built target WeatherService
[100%] Linking CXX executable OrderBeverageService
[100%] Built target OrderBeverageService
[ 55%] Built target OrderBeverageService
[100%] Built target WeatherService
Install the project...
-- Install configuration: ""
-- Installing: /usr/local/bin/./OrderBeverageService
-- Set runtime path of "/usr/local/bin/./OrderBeverageService" to ""
-- Installing: /usr/local/bin/./WeatherService
-- Set runtime path of "/usr/local/bin/./WeatherService" to ""
 ---> Removed intermediate container 95add715e25f
 ---> 674f08a9b6ef
Step 5/5 : WORKDIR /vending-machine-microservices
 ---> Running in 608aa3b628d5
 ---> Removed intermediate container 608aa3b628d5
 ---> c5ebbb075b10
Successfully built c5ebbb075b10
Successfully tagged nikhilns221/vending-machine-microservices:latest
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker-composr[Ke up -d
Creating network "vendingmachine_tutorial_default" with the default driver
Creating vendingmachine_tutorial_nginx-thrift_1 ... 
Creating vendingmachine_tutorial_order-beverage-service_1 ... 
Creating vendingmachine_tutorial_beverage-preference-service_1 ... 
Creating vendingmachine_tutorial_weather-service_1             ... 
[3A[2KCreating vendingmachine_tutorial_order-beverage-service_1      ... [32mdone[0m[3B[1A[2KCreating vendingmachine_tutorial_weather-service_1             ... [32mdone[0m[1B[4A[2KCreating vendingmachine_tutorial_nginx-thrift_1                ... [32mdone[0m[4B[2A[2KCreating vendingmachine_tutorial_beverage-preference-service_1 ... [31merror[0m[2B
ERROR: for vendingmachine_tutorial_beverage-preference-service_1  Cannot start service beverage-preference-service: failed to create task for container: failed to create shim task: OCI runtime create failed: runc create failed: unable to start container process: exec: "BeveragePreferenceService": executable file not found in $PATH: unknown

ERROR: for beverage-preference-service  Cannot start service beverage-preference-service: failed to create task for container: failed to create shim task: OCI runtime create failed: runc create failed: unable to start container process: exec: "BeveragePreferenceService": executable file not found in $PATH: unknown
[31mERROR[0m: Encountered errors while bringing up the project.
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker-compose up -dbuild[1Pdown -vthrift --gen cpp vending_machine.thrift
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ thrift --gen cpp vending_machine.thrift[14Psudo docker-compose up -dbuild[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Ksudo docker-compose build beverage-preference-service
Building beverage-preference-service
Step 1/5 : FROM yg397/thrift-microservice-deps:xenial
 ---> 1e2915736663
Step 2/5 : ARG NUM_CPUS=4
 ---> Using cache
 ---> 9aec4221eef1
Step 3/5 : COPY ./ /vending-machine-microservices
 ---> 733109cbcd41
Step 4/5 : RUN cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install
 ---> Running in 0e7f802ef9c1
-- The C compiler identification is GNU 5.4.0
-- The CXX compiler identification is GNU 5.4.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- THRIFT_HOME: 
-- Thrift version: Thrift version 0.12.0
-- Found libevent: /usr/lib/x86_64-linux-gnu/libevent.so
-- Found nlohmann_json: /usr/local/lib/cmake/nlohmann_json/nlohmann_jsonConfig.cmake (found suitable version "3.6.1", minimum required is "3.5.0") 
-- Looking for pthread.h
-- Looking for pthread.h - found
-- Looking for pthread_create
-- Looking for pthread_create - not found
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE  
-- Found OpenSSL: /usr/lib/x86_64-linux-gnu/libssl.so;/usr/lib/x86_64-linux-gnu/libcrypto.so (found version "1.0.2g") 
-- Boost version: 1.58.0
-- Found the following Boost libraries:
--   log
--   log_setup
--   date_time
--   system
--   filesystem
--   thread
--   regex
--   chrono
--   atomic
-- Configuring done
[91mCMake Error at src/BeveragePreferenceService/CMakeLists.txt:8 (add_executable):
  Cannot find source file:

    src/BeveragePreferenceService/BeveragePreferenceServer.cpp

  Tried extensions .c .C .c++ .cc .cpp .cxx .m .M .mm .h .hh .h++ .hm .hpp
  .hxx .in .txx


[0m-- Generating done
-- Build files have been written to: /vending-machine-microservices/build
[31mERROR[0m: Service 'beverage-preference-service' failed to build: The command '/bin/sh -c cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install' returned a non-zero code: 1
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ cat << 'EOF' > src/BeveragePreferenceService/BeveragePreferenceServer.cpp
> #include <signal.h>
> #include <iostream>
> 
> #include <thrift/server/TThreadedServer.h>
> #include <thrift/transport/TServerSocket.h>
> #include <thrift/transport/TBufferTransports.h>
> #include <thrift/protocol/TBinaryProtocol.h>
> 
> #include "../utils.h"
> #include "BeveragePreferenceHandler.h"
> 
> using json = nlohmann::json;
> using apache::thrift::server::TThreadedServer;
> using apache::thrift::transport::TServerSocket;
> using apache::thrift::transport::TFramedTransportFactory;
> using apache::thrift::protocol::TBinaryProtocolFactory;
> using namespace vending_machine;
> 
> static void sigintHandler(int sig) {
>   exit(EXIT_SUCCESS);
> }
> 
> int main(int argc, char** argv) {
>   // 1) allow Ctrl‑C to cleanly exit
>   signal(SIGINT, sigintHandler);
> 
>   // 2) init our logger (writes to logs/<service>.log)
>   init_logger();
> 
>   // 3) read port from config/service-config.json
>   json config;
>   if (load_config_file("config/service-config.json", &config) != 0) {
>     std::cerr << "failed to load config\n";
>     return 1;
>   }
>   int port = config["beverage-preference-service"]["port"];
> 
>   // 4) build and run the Thrift server
>   auto handler = std::make_shared<BeveragePreferenceHandler>();
>   auto processor = std::make_shared<BeveragePreferenceServiceProcessor>(handler);
>   TThreadedServer server(
>       processor,
>       std::make_shared<TServerSocket>("0.0.0.0", port),
>       std::make_shared<TFramedTransportFactory>(),
>       std::make_shared<TBinaryProtocolFactory>()
>   );
> 
>   std::cout << "Starting beverage-preference-service on port " << port << " …\n";
>   server.serve();
>   return 0;
> }
> EOF
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ thrift --gen cpp vending_machine.thrift
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker-compose build beverage-preference-service
Building beverage-preference-service
Step 1/5 : FROM yg397/thrift-microservice-deps:xenial
 ---> 1e2915736663
Step 2/5 : ARG NUM_CPUS=4
 ---> Using cache
 ---> 9aec4221eef1
Step 3/5 : COPY ./ /vending-machine-microservices
 ---> e092c81ba90f
Step 4/5 : RUN cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install
 ---> Running in 500b68c83340
-- The C compiler identification is GNU 5.4.0
-- The CXX compiler identification is GNU 5.4.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- THRIFT_HOME: 
-- Thrift version: Thrift version 0.12.0
-- Found libevent: /usr/lib/x86_64-linux-gnu/libevent.so
-- Found nlohmann_json: /usr/local/lib/cmake/nlohmann_json/nlohmann_jsonConfig.cmake (found suitable version "3.6.1", minimum required is "3.5.0") 
-- Looking for pthread.h
-- Looking for pthread.h - found
-- Looking for pthread_create
-- Looking for pthread_create - not found
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE  
-- Found OpenSSL: /usr/lib/x86_64-linux-gnu/libssl.so;/usr/lib/x86_64-linux-gnu/libcrypto.so (found version "1.0.2g") 
-- Boost version: 1.58.0
-- Found the following Boost libraries:
--   log
--   log_setup
--   date_time
--   system
--   filesystem
--   thread
--   regex
--   chrono
--   atomic
-- Configuring done
[91mCMake Error at src/BeveragePreferenceService/CMakeLists.txt:8 (add_executable):
  Cannot find source file:

    src/BeveragePreferenceService/BeveragePreferenceServer.cpp

  Tried extensions .c .C .c++ .cc .cpp .cxx .m .M .mm .h .hh .h++ .hm .hpp
  .hxx .in .txx


[0m-- Generating done
-- Build files have been written to: /vending-machine-microservices/build
[31mERROR[0m: Service 'beverage-preference-service' failed to build: The command '/bin/sh -c cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install' returned a non-zero code: 1
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ ls -l src/BeveragePreferenceService
total 24
-rw-r--r-- 1 Nikhilns umich-d-cs-edu  629 Apr 17 23:05 BeveragePreferenceHandler.cpp
-rw-r--r-- 1 Nikhilns umich-d-cs-edu  579 Apr 17 23:04 BeveragePreferenceHandler.h
-rw-r--r-- 1 Nikhilns umich-d-cs-edu 1563 Apr 17 23:35 BeveragePreferenceServer.cpp
-rw-r--r-- 1 Nikhilns umich-d-cs-edu 1373 Apr 17 22:45 BeveragePreferenceService.cpp
-rw-r--r-- 1 Nikhilns umich-d-cs-edu 1138 Apr 17 22:44 BeveragePreferenceServiceHandler.h
-rw-r--r-- 1 Nikhilns umich-d-cs-edu  709 Apr 17 23:07 CMakeLists.txt
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ ls
abc.txt  CMakeLists.txt  docker-compose.yml  [0m[01;34mgen-cpp[0m      [01;34mgen-lua[0m  [01;34mnginx_reverse_proxy[0m  [01;34mscript[0m  typescript          vending_machine.thrift
[01;34mcmake[0m    [01;34mconfig[0m          Dockerfile          [01;34mgen-cpp-org[0m  [01;34mgen-py[0m   Readme.md            [01;34msrc[0m     [01;35mvendingmachine.png[0m
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ ls -l src/BeveragePreferenceServicesudo docker-compose build beverage-preference-service[A]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ thrift --gen cpp vending_machine.thrift [K[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ccat << 'EOF' > src/BeveragePreferenceService/BeveragePreferenceServer.cpp 
#include <signal.h>

#include <iostream>


#include <thrift/server/TThreadedServer.h>

#include <thrift/transport/TServerSocket.h>

#include <thrift/transport/TBufferTransports.h>

#include <thrift/protocol/TBinaryProtocol.h>


#include "../utils.h"

#include "BeveragePreferenceHandler.h"


using json = nlohmann::json;
using apache::thrift::server::TThreadedServer;
using apache::thrift::transport::TServerSocket;
using apache::thrift::transport::TFramedTransportFactory;
using apache::thrift::protocol::TBinaryProtocolFactory;
using namespace vending_machine;

static void sigintHandler(int sig) {  exit(EXIT_SUCCESS);}int main(int argc, char** argv) {  // 1) allow Ctrl‑C to cleanly exit  signal(SIGINT, sigintHandler);  // 2) init our logger (writes to logs/<service>.log)  init_logger();  // 3) read port from config/service-config.json  json config;  if (load_config_file("config/service-config.json", &config) != 0) {    std::cerr << "failed to load config\n";    return 1;  }  int port = config["beverage-preference-service"]["port"];  // 4) build and run the Thrift server  auto handler = std::make_shared<BeveragePreferenceHandler>();  auto processor = std::make_shared<BeveragePreferenceServiceProcessor>(handler);  TThreadedServer server(      processor,      std::make_shared<TServerSocket>("0.0.0.0", port),      std::make_shared<TFramedTransportFactory>(),      std::make_shared<TBinaryProtocolFactory>()  );  std::cout << "Starting beverage-preference-service on port " << port << " …\n";  server.serve();  return 0;}EOF[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cthrift --gen cpp vending_machine.thrift [K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ccat << 'EOF' > src/BeveragePreferenceService/BeveragePreferenceServer.cpp 
#include <signal.h>

#include <iostream>


#include <thrift/server/TThreadedServer.h>

#include <thrift/transport/TServerSocket.h>

#include <thrift/transport/TBufferTransports.h>

#include <thrift/protocol/TBinaryProtocol.h>


#include "../utils.h"

#include "BeveragePreferenceHandler.h"


using json = nlohmann::json;
using apache::thrift::server::TThreadedServer;
using apache::thrift::transport::TServerSocket;
using apache::thrift::transport::TFramedTransportFactory;
using apache::thrift::protocol::TBinaryProtocolFactory;
using namespace vending_machine;

static void sigintHandler(int sig) {  exit(EXIT_SUCCESS);}int main(int argc, char** argv) {  // 1) allow Ctrl‑C to cleanly exit  signal(SIGINT, sigintHandler);  // 2) init our logger (writes to logs/<service>.log)  init_logger();  // 3) read port from config/service-config.json  json config;  if (load_config_file("config/service-config.json", &config) != 0) {    std::cerr << "failed to load config\n";    return 1;  }  int port = config["beverage-preference-service"]["port"];  // 4) build and run the Thrift server  auto handler = std::make_shared<BeveragePreferenceHandler>();  auto processor = std::make_shared<BeveragePreferenceServiceProcessor>(handler);  TThreadedServer server(      processor,      std::make_shared<TServerSocket>("0.0.0.0", port),      std::make_shared<TFramedTransportFactory>(),      std::make_shared<TBinaryProtocolFactory>()  );  std::cout << "Starting beverage-preference-service on port " << port << " …\n";  server.serve();  return 0;}EOF[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Csudo docker-compose build beverage-prefe[20Prence-service
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[A]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ thrift --gen cpp vending_machine.thrift [K[K[A]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ thrift --gen cpp vending_machine.thriftsudo docker-compose build beverage-preference-service[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ccat << 'EOF' > src/BeveragePreferenceService/BeveragePreferenceServer.cpp
#include <signal.h>

#include <iostream>


#include <thrift/server/TThreadedServer.h>

#include <thrift/transport/TServerSocket.h>

#include <thrift/transport/TBufferTransports.h>

#include <thrift/protocol/TBinaryProtocol.h>


#include "../utils.h"

#include "BeveragePreferenceHandler.h"


using json = nlohmann::json;
using apache::thrift::server::TThreadedServer;
using apache::thrift::transport::TServerSocket;
using apache::thrift::transport::TFramedTransportFactory;
using apache::thrift::protocol::TBinaryProtocolFactory;
using namespace vending_machine;

static void sigintHandler(int sig) {
  exit(EXIT_SUCCESS);}int main(int argc, char** argv) {  // 1) allow Ctrl‑C to cleanly exit  signal(SIGINT, sigintHandler);  // 2) init our logger (writes to logs/<service>.log)  init_logger();  // 3) read port from config/service-config.json  json config;  if (load_config_file("config/service-config.json", &config) != 0) {    std::cerr << "failed to load config\n";    return 1;  }  int port = config["beverage-preference-service"]["port"];  // 4) build and run the Thrift server  auto handler = std::make_shared<BeveragePreferenceHandler>();  auto processor = std::make_shared<BeveragePreferenceServiceProcessor>(handler);  TThreadedServer server(      processor,      std::make_shared<TServerSocket>("0.0.0.0", port),      std::make_shared<TFramedTransportFactory>(),      std::make_shared<TBinaryProtocolFactory>()  );  std::cout << "Starting beverage-preference-service on port " << port << " …\n";  server.serve();  return 0;}EOF[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[34Pthrift --gen cpp vending_machine.thrift
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Csudo docker-compose build beverage-preference-service[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[18Pls -l src/BeveragePreferenceService[K[Kls -l src/BeveragePreferenceServicesudo docker-compose build beverage-preference-service[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Kthrift --gen cpp vending_machine.thrift
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ thrift --gen cpp vending_machine.thriftls[K -l src/BeveragePreferenceService[Kthrift --gen cpp vending_machine.thriftcat << 'EOF' > src/BeveragePreferenceService/BeveragePreferenceServer.cpp
#include <signal.h>

#include <iostream>


#include <thrift/server/TThreadedServer.h>

#include <thrift/transport/TServerSocket.h>

#include <thrift/transport/TBufferTransports.h>

#include <thrift/protocol/TBinaryProtocol.h>


#include "../utils.h"

#include "BeveragePreferenceHandler.h"


using json = nlohmann::json;
using apache::thrift::server::TThreadedServer;
using apache::thrift::transport::TServerSocket;
using apache::thrift::transport::TFramedTransportFactory;
using apache::thrift::protocol::TBinaryProtocolFactory;
using namespace vending_machine;

static void sigintHandler(int sig) {
  exit(EXIT_SUCCESS);}int main(int argc, char** argv) {  // 1) allow Ctrl‑C to cleanly exit  signal(SIGINT, sigintHandler);  // 2) init our logger (writes to logs/<service>.log)  init_logger();  // 3) read port from config/service-config.json  json config;  if (load_config_file("config/service-config.json", &config) != 0) {    std::cerr << "failed to load config\n";    return 1;  }  int port = config["beverage-preference-service"]["port"];  // 4) build and run the Thrift server  auto handler = std::make_shared<BeveragePreferenceHandler>();  auto processor = std::make_shared<BeveragePreferenceServiceProcessor>(handler);  TThreadedServer server(      processor,      std::make_shared<TServerSocket>("0.0.0.0", port),      std::make_shared<TFramedTransportFactory>(),      std::make_shared<TBinaryProtocolFactory>()  );  std::cout << "Starting beverage-preference-service on port " << port << " …\n";  server.serve();  return 0;}EOF[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[20Psudo docker-compose build beverage-preference-service
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[14Pthrift --gen cpp vending_machine.thrift[14Psudo docker-compose up -dbuild
weather-service uses an image, skipping
nginx-thrift uses an image, skipping
Building order-beverage-service
Step 1/5 : FROM yg397/thrift-microservice-deps:xenial
 ---> 1e2915736663
Step 2/5 : ARG NUM_CPUS=4
 ---> Using cache
 ---> 9aec4221eef1
Step 3/5 : COPY ./ /vending-machine-microservices
 ---> 67df5199176d
Step 4/5 : RUN cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install
 ---> Running in 2dd96aa2c8fd
-- The C compiler identification is GNU 5.4.0
-- The CXX compiler identification is GNU 5.4.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- THRIFT_HOME: 
-- Thrift version: Thrift version 0.12.0
-- Found libevent: /usr/lib/x86_64-linux-gnu/libevent.so
-- Found nlohmann_json: /usr/local/lib/cmake/nlohmann_json/nlohmann_jsonConfig.cmake (found suitable version "3.6.1", minimum required is "3.5.0") 
-- Looking for pthread.h
-- Looking for pthread.h - found
-- Looking for pthread_create
-- Looking for pthread_create - not found
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE  
-- Found OpenSSL: /usr/lib/x86_64-linux-gnu/libssl.so;/usr/lib/x86_64-linux-gnu/libcrypto.so (found version "1.0.2g") 
-- Boost version: 1.58.0
-- Found the following Boost libraries:
--   log
--   log_setup
--   date_time
--   system
--   filesystem
--   thread
--   regex
--   chrono
--   atomic
-- Configuring done
-- Generating done
-- Build files have been written to: /vending-machine-microservices/build
Scanning dependencies of target WeatherService
Scanning dependencies of target OrderBeverageService
Scanning dependencies of target BeveragePreferenceService
[ 28%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/OrderBeverageService.cpp.o
[ 28%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/WeatherService.cpp.o
[ 28%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/__/__/gen-cpp/WeatherService.cpp.o
[ 28%] Building CXX object src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/BeveragePreferenceServer.cpp.o
[ 35%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/__/__/gen-cpp/vending_machine_types.cpp.o
[ 42%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/OrderBeverageService.cpp.o
[ 50%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/WeatherService.cpp.o
[91mIn file included from /vending-machine-microservices/src/BeveragePreferenceService/BeveragePreferenceServer.cpp:10:0:
/vending-machine-microservices/src/BeveragePreferenceService/BeveragePreferenceHandler.h:14:15: error: 'std::__cxx11::string vending_machine::BeveragePreferenceHandler::getBeverage(vending_machine::BeverageType::type)' marked 'override', but does not override
   std::string getBeverage(const BeverageType::type btype) override;
               ^
[0m[91mIn file included from /usr/include/x86_64-linux-gnu/c++/5/bits/c++allocator.h:33:0,
                 from /usr/include/c++/5/bits/allocator.h:46,
                 from /usr/include/c++/5/string:41,
                 from /usr/include/c++/5/bits/locale_classes.h:40,
                 from /usr/include/c++/5/bits/ios_base.h:41,
                 from /usr/include/c++/5/ios:42,
                 from /usr/include/c++/5/ostream:38,
                 from /usr/include/c++/5/iostream:39,
                 from /vending-machine-microservices/src/BeveragePreferenceService/BeveragePreferenceServer.cpp:2:
/usr/include/c++/5/ext/new_allocator.h: In instantiation of 'void __gnu_cxx::new_allocator<_Tp>::construct(_Up*, _Args&& ...) [with _Up = vending_machine::BeveragePreferenceHandler; _Args = {}; _Tp = vending_machine::BeveragePreferenceHandler]':
/usr/include/c++/5/bits/alloc_traits.h:530:4:   required from 'static void std::allocator_traits<std::allocator<_CharT> >::construct(std::allocator_traits<std::allocator<_CharT> >::allocator_type&, _Up*, _Args&& ...) [with _Up = vending_machine::BeveragePreferenceHandler; _Args = {}; _Tp = vending_machine::BeveragePreferenceHandler; std::allocator_traits<std::allocator<_CharT> >::allocator_type = std::allocator<vending_machine::BeveragePreferenceHandler>]'
/usr/include/c++/5/bits/shared_ptr_base.h:522:39:   required from 'std::_Sp_counted_ptr_inplace<_Tp, _Alloc, _Lp>::_Sp_counted_ptr_inplace(_Alloc, _Args&& ...) [with _Args = {}; _Tp = vending_machine::BeveragePreferenceHandler; _Alloc = std::allocator<vending_machine::BeveragePreferenceHandler>; __gnu_cxx::_Lock_policy _Lp = (__gnu_cxx::_Lock_policy)2u]'
/usr/include/c++/5/bits/shared_ptr_base.h:617:4:   required from 'std::__shared_count<_Lp>::__shared_count(std::_Sp_make_shared_tag, _Tp*, const _Alloc&, _Args&& ...) [with _Tp = vending_machine::BeveragePreferenceHandler; _Alloc = std::allocator<vending_machine::BeveragePreferenceHandler>; _Args = {}; __gnu_cxx::_Lock_policy _Lp = (__gnu_cxx::_Lock_policy)2u]'
/usr/include/c++/5/bits/shared_ptr_base.h:1097:35:   required from 'std::__shared_ptr<_Tp, _Lp>::__shared_ptr(std::_Sp_make_shared_tag, const _Alloc&, _Args&& ...) [with _Alloc = std::allocator<vending_machine::BeveragePreferenceHandler>; _Args = {}; _Tp = vending_machine::BeveragePreferenceHandler; __gnu_cxx::_Lock_policy _Lp = (__gnu_cxx::_Lock_policy)2u]'
/usr/include/c++/5/bits/shared_ptr.h:319:64:   required from 'std::shared_ptr<_Tp>::shared_ptr(std::_Sp_make_shared_tag, const _Alloc&, _Args&& ...) [with _Alloc = std::allocator<vending_machine::BeveragePreferenceHandler>; _Args = {}; _Tp = vending_machine::BeveragePreferenceHandler]'
/usr/include/c++/5/bits/shared_ptr.h:620:39:   required from 'std::shared_ptr<_Tp1> std::allocate_shared(const _Alloc&, _Args&& ...) [with _Tp = vending_machine::BeveragePreferenceHandler; _Alloc = std::allocator<vending_machine::BeveragePreferenceHandler>; _Args = {}]'
/usr/include/c++/5/bits/shared_ptr.h:635:39:   required from 'std::shared_ptr<_Tp1> std::make_shared(_Args&& ...) [with _Tp = vending_machine::BeveragePreferenceHandler; _Args = {}]'
/vending-machine-microservices/src/BeveragePreferenceService/BeveragePreferenceServer.cpp:39:62:   required from here
/usr/include/c++/5/ext/new_allocator.h:120:4: error: invalid new-expression of abstract class type 'vending_machine::BeveragePreferenceHandler'
  { ::new((void *)__p) _Up(std::forward<_Args>(__args)...); }
    ^
In file included from /vending-machine-microservices/src/BeveragePreferenceService/BeveragePreferenceServer.cpp:10:0:
/vending-machine-microservices/src/BeveragePreferenceService/BeveragePreferenceHandler.h:9:7: note:   because the following virtual functions are pure within 'vending_machine::BeveragePreferenceHandler':
 class BeveragePreferenceHandler : public BeveragePreferenceServiceIf {
       ^
In file included from /vending-machine-microservices/src/BeveragePreferenceService/BeveragePreferenceHandler.h:5:0,
                 from /vending-machine-microservices/src/BeveragePreferenceService/BeveragePreferenceServer.cpp:10:
/vending-machine-microservices/src/BeveragePreferenceService/../../gen-cpp/BeveragePreferenceService.h:32:16: note: 	virtual void vending_machine::BeveragePreferenceServiceIf::getBeverage(std::__cxx11::string&, vending_machine::BeverageType::type)
   virtual void getBeverage(std::string& _return, const BeverageType::type btype) = 0;
                ^
[0msrc/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/build.make:62: recipe for target 'src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/BeveragePreferenceServer.cpp.o' failed
[91mmake[2]: *** [src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/BeveragePreferenceServer.cpp.o] Error 1
[0mCMakeFiles/Makefile2:219: recipe for target 'src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/all' failed
[91mmake[1]: *** [src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/all] Error 2
make[1]: *** Waiting for unfinished jobs....
[0m[ 57%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/vending_machine_types.cpp.o
[ 64%] Linking CXX executable WeatherService
[ 64%] Built target WeatherService
[ 71%] Linking CXX executable OrderBeverageService
[ 71%] Built target OrderBeverageService
[91mmake: *** [all] Error 2
[0mMakefile:127: recipe for target 'all' failed
[31mERROR[0m: Service 'order-beverage-service' failed to build: The command '/bin/sh -c cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install' returned a non-zero code: 2
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker-compose build beverage-preference-service
Building beverage-preference-service
Step 1/5 : FROM yg397/thrift-microservice-deps:xenial
 ---> 1e2915736663
Step 2/5 : ARG NUM_CPUS=4
 ---> Using cache
 ---> 9aec4221eef1
Step 3/5 : COPY ./ /vending-machine-microservices
 ---> 03c43d00e861
Step 4/5 : RUN cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install
 ---> Running in 83e67769423d
-- The C compiler identification is GNU 5.4.0
-- The CXX compiler identification is GNU 5.4.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- THRIFT_HOME: 
-- Thrift version: Thrift version 0.12.0
-- Found libevent: /usr/lib/x86_64-linux-gnu/libevent.so
-- Found nlohmann_json: /usr/local/lib/cmake/nlohmann_json/nlohmann_jsonConfig.cmake (found suitable version "3.6.1", minimum required is "3.5.0") 
-- Looking for pthread.h
-- Looking for pthread.h - found
-- Looking for pthread_create
-- Looking for pthread_create - not found
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE  
-- Found OpenSSL: /usr/lib/x86_64-linux-gnu/libssl.so;/usr/lib/x86_64-linux-gnu/libcrypto.so (found version "1.0.2g") 
-- Boost version: 1.58.0
-- Found the following Boost libraries:
--   log
--   log_setup
--   date_time
--   system
--   filesystem
--   thread
--   regex
--   chrono
--   atomic
-- Configuring done
-- Generating done
-- Build files have been written to: /vending-machine-microservices/build
Scanning dependencies of target WeatherService
Scanning dependencies of target OrderBeverageService
Scanning dependencies of target BeveragePreferenceService
[ 28%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/WeatherService.cpp.o
[ 28%] Building CXX object src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/BeveragePreferenceServer.cpp.o
[ 28%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/OrderBeverageService.cpp.o
[ 28%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/__/__/gen-cpp/WeatherService.cpp.o
[ 35%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/__/__/gen-cpp/vending_machine_types.cpp.o
[ 42%] Building CXX object src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/BeveragePreferenceHandler.cpp.o
[91m/vending-machine-microservices/src/BeveragePreferenceService/BeveragePreferenceHandler.cpp: In member function 'virtual void vending_machine::BeveragePreferenceHandler::getBeverage(std::__cxx11::string&, vending_machine::BeverageType::type)':
/vending-machine-microservices/src/BeveragePreferenceService/BeveragePreferenceHandler.cpp:9:16: error: 'Hot' is not a member of 'vending_machine::BeverageType'
   if (btype == BeverageType::Hot) {
                ^
[0msrc/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/build.make:86: recipe for target 'src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/BeveragePreferenceHandler.cpp.o' failed
[91mmake[2]: *** [src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/BeveragePreferenceHandler.cpp.o] Error 1
make[2]: *** Waiting for unfinished jobs....
[0m[ 50%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/OrderBeverageService.cpp.o
[ 57%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/WeatherService.cpp.o
[ 64%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/vending_machine_types.cpp.o
CMakeFiles/Makefile2:219: recipe for target 'src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/all' failed
[91mmake[1]: *** [src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/all] Error 2
make[1]: *** Waiting for unfinished jobs....
[0m[ 71%] Linking CXX executable WeatherService
[ 78%] Linking CXX executable OrderBeverageService
[ 78%] Built target WeatherService
[ 78%] Built target OrderBeverageService
Makefile:127: recipe for target 'all' failed
[91mmake: *** [all] Error 2
[0m[31mERROR[0m: Service 'beverage-preference-service' failed to build: The command '/bin/sh -c cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install' returned a non-zero code: 2
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ thrift --gen cpp vending_machine.thrift
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker-compose build beverage-preference-service
Building beverage-preference-service
Step 1/5 : FROM yg397/thrift-microservice-deps:xenial
 ---> 1e2915736663
Step 2/5 : ARG NUM_CPUS=4
 ---> Using cache
 ---> 9aec4221eef1
Step 3/5 : COPY ./ /vending-machine-microservices
 ---> 278cfaec69f4
Step 4/5 : RUN cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install
 ---> Running in 0046328368a8
-- The C compiler identification is GNU 5.4.0
-- The CXX compiler identification is GNU 5.4.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- THRIFT_HOME: 
-- Thrift version: Thrift version 0.12.0
-- Found libevent: /usr/lib/x86_64-linux-gnu/libevent.so
-- Found nlohmann_json: /usr/local/lib/cmake/nlohmann_json/nlohmann_jsonConfig.cmake (found suitable version "3.6.1", minimum required is "3.5.0") 
-- Looking for pthread.h
-- Looking for pthread.h - found
-- Looking for pthread_create
-- Looking for pthread_create - not found
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE  
-- Found OpenSSL: /usr/lib/x86_64-linux-gnu/libssl.so;/usr/lib/x86_64-linux-gnu/libcrypto.so (found version "1.0.2g") 
-- Boost version: 1.58.0
-- Found the following Boost libraries:
--   log
--   log_setup
--   date_time
--   system
--   filesystem
--   thread
--   regex
--   chrono
--   atomic
-- Configuring done
[91mCMake Error at src/BeveragePreferenceService/CMakeLists.txt:8 (add_executable):
  Cannot find source file:

    /gen-cpp/BeveragePreferenceService.cpp

  Tried extensions .c .C .c++ .cc .cpp .cxx .m .M .mm .h .hh .h++ .hm .hpp
  .hxx .in .txx


[0m-- Generating done
-- Build files have been written to: /vending-machine-microservices/build
[31mERROR[0m: Service 'beverage-preference-service' failed to build: The command '/bin/sh -c cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install' returned a non-zero code: 1
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ ls
abc.txt  [0m[01;34mcmake[0m  CMakeLists.txt  [01;34mconfig[0m  docker-compose.yml  Dockerfile  [01;34mgen-cpp[0m  [01;34mgen-cpp-org[0m  [01;34mgen-lua[0m  [01;34mgen-py[0m  [01;34mnginx_reverse_proxy[0m  Readme.md  [01;34mscript[0m  [01;34msrc[0m  typescript  [01;35mvendingmachine.png[0m  vending_machine.thrift
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ rm src/BeveragePreferenceService/BeveragePreferenceService.cpp \
>    src/BeveragePreferenceService/BeveragePreferenceServiceHandler.h
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ cat << 'EOF' > src/BeveragePreferenceService/BeveragePreferenceHandler.h
> #ifndef VENDING_MACHINE_MICROSERVICES_BEVERAGEPREFERENCEHANDLER_H
> #define VENDING_MACHINE_MICROSERVICES_BEVERAGEPREFERENCEHANDLER_H
> 
> #include "../../gen-cpp/BeveragePreferenceService.h"
> #include <string>
> 
> namespace vending_machine {
> 
> class BeveragePreferenceHandler : public BeveragePreferenceServiceIf {
>  public:
>   BeveragePreferenceHandler() = default;
>   ~BeveragePreferenceHandler() override = default;
> 
>   // Must match Thrift signature exactly:
>   void getBeverage(std::string& _return, const BeverageType::type btype) override;
> };
> 
> } // namespace vending_machine
> 
> #endif // VENDING_MACHINE_MICROSERVICES_BEVERAGEPREFERENCEHANDLER_H
> EOF
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ cat << 'EOF' > src/BeveragePreferenceService/BeveragePreferenceHandler.cpp
> #include "BeveragePreferenceHandler.h"
> #include <random>
> #include <vector>
> 
> namespace vending_machine {
> 
> void BeveragePreferenceHandler::getBeverage(std::string& _return, const BeverageType::type btype) {
>   // Hot drinks vs cold drinks
>   std::vector<std::string> options;
>   if (btype == BeverageType::Hot) {
>     options = { "cappuccino", "latte", "espresso" };
>   } else {
>     options = { "lemonade", "ice tea", "soda" };
>   }
> 
>   // Random pick
>   std::random_device rd;
>   std::mt19937 gen(rd());
>   std::uniform_int_distribution<> dis(0, options.size() - 1);
>   _return = options[dis(gen)];
> }
> 
> } // namespace vending_machine
> EOF
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ cat << 'EOF' > src/BeveragePreferenceService/BeveragePreferenceServer.cpp
> #include <signal.h>
> #include <iostream>
> 
> #include <thrift/server/TThreadedServer.h>
> #include <thrift/transport/TServerSocket.h>
> #include <thrift/transport/TBufferTransports.h>
> #include <thrift/protocol/TBinaryProtocol.h>
> 
> #include "BeveragePreferenceHandler.h"
> #include "../../utils.h"       // load_config_file()
> #include "../../logger.h"      // init_logger()
> #include "../../gen-cpp/BeveragePreferenceService.h"
> 
> using json = nlohmann::json;
> using namespace vending_machine;
> using apache::thrift::server::TThreadedServer;
> using apache::thrift::transport::TServerSocket;
> using apache::thrift::transport::TFramedTransportFactory;
> using apache::thrift::protocol::TBinaryProtocolFactory;
> 
> void sigintHandler(int /*sig*/) {
>   std::exit(EXIT_SUCCESS);
> }
> 
> int main(int argc, char** argv) {
>   signal(SIGINT, sigintHandler);
>   init_logger();
> 
>   json cfg;
>   if (load_config_file("config/service-config.json", &cfg) != 0) {
>     std::cerr<<"Failed to load config\n";
>     return EXIT_FAILURE;
>   }
>   int port = cfg["beverage-preference-service"]["port"];
> 
>   auto handler   = std::make_shared<BeveragePreferenceHandler>();
>   auto processor = std::make_shared<BeveragePreferenceServiceProcessor>(handler);
> 
>   TThreadedServer server(
>     processor,
>     std::make_shared<TServerSocket>("0.0.0.0", port),
>     std::make_shared<TFramedTransportFactory>(),
>     std::make_shared<TBinaryProtocolFactory>()
>   );
> 
>   std::cout<<"Starting beverage preference service on port "<<port<<"\n";
>   server.serve();
>   return 0;
> }
> EOF
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ thrift --gen cpp vending_machine.thrift
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker-compose build beverage-preference-service
Building beverage-preference-service
Step 1/5 : FROM yg397/thrift-microservice-deps:xenial
 ---> 1e2915736663
Step 2/5 : ARG NUM_CPUS=4
 ---> Using cache
 ---> 9aec4221eef1
Step 3/5 : COPY ./ /vending-machine-microservices
 ---> d26a90a3c9d9
Step 4/5 : RUN cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install
 ---> Running in 1fd3b8a6cb68
-- The C compiler identification is GNU 5.4.0
-- The CXX compiler identification is GNU 5.4.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- THRIFT_HOME: 
-- Thrift version: Thrift version 0.12.0
-- Found libevent: /usr/lib/x86_64-linux-gnu/libevent.so
-- Found nlohmann_json: /usr/local/lib/cmake/nlohmann_json/nlohmann_jsonConfig.cmake (found suitable version "3.6.1", minimum required is "3.5.0") 
-- Looking for pthread.h
-- Looking for pthread.h - found
-- Looking for pthread_create
-- Looking for pthread_create - not found
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE  
-- Found OpenSSL: /usr/lib/x86_64-linux-gnu/libssl.so;/usr/lib/x86_64-linux-gnu/libcrypto.so (found version "1.0.2g") 
-- Boost version: 1.58.0
-- Found the following Boost libraries:
--   log
--   log_setup
--   date_time
--   system
--   filesystem
--   thread
--   regex
--   chrono
--   atomic
-- Configuring done
[91mCMake Error at src/BeveragePreferenceService/CMakeLists.txt:7 (add_executable):
  Cannot find source file:

    /gen-cpp/BeveragePreferenceService.cpp

  Tried extensions .c .C .c++ .cc .cpp .cxx .m .M .mm .h .hh .h++ .hm .hpp
  .hxx .in .txx


[0m-- Generating done
-- Build files have been written to: /vending-machine-microservices/build
[31mERROR[0m: Service 'beverage-preference-service' failed to build: The command '/bin/sh -c cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install' returned a non-zero code: 1
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ cat << 'EOF' > src/BeveragePreferenceService/CMakeLists.txt
> cmake_minimum_required(VERSION 3.5)
> project(BeveragePreferenceService)
> 
> # gen-cpp is directly under the project root
> set(THRIFT_GEN_CPP_DIR "${CMAKE_SOURCE_DIR}/gen-cpp")
> set(THRIFT_LIB thrift)
> 
> add_executable(
>   BeveragePreferenceService
>   BeveragePreferenceServer.cpp
>   BeveragePreferenceHandler.cpp
>   \${THRIFT_GEN_CPP_DIR}/BeveragePreferenceService.cpp
>   \${THRIFT_GEN_CPP_DIR}/vending_machine_types.cpp
> )
> 
> target_link_libraries(
>   BeveragePreferenceService
>   nlohmann_json::nlohmann_json
>   \${THRIFT_LIB}
>   \${CMAKE_THREAD_LIBS_INIT}
>   \${Boost_LIBRARIES}
>   Boost::log
>   Boost::log_setup
> )
> 
> install(TARGETS BeveragePreferenceService DESTINATION /usr/local/bin)
> EOF
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ thrift --gen cpp vending_machine.thrift
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker-compose build beverage-preference-service
Building beverage-preference-service
Step 1/5 : FROM yg397/thrift-microservice-deps:xenial
 ---> 1e2915736663
Step 2/5 : ARG NUM_CPUS=4
 ---> Using cache
 ---> 9aec4221eef1
Step 3/5 : COPY ./ /vending-machine-microservices
 ---> 9c345013aa43
Step 4/5 : RUN cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install
 ---> Running in 347a76cfa260
-- The C compiler identification is GNU 5.4.0
-- The CXX compiler identification is GNU 5.4.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- THRIFT_HOME: 
-- Thrift version: Thrift version 0.12.0
-- Found libevent: /usr/lib/x86_64-linux-gnu/libevent.so
-- Found nlohmann_json: /usr/local/lib/cmake/nlohmann_json/nlohmann_jsonConfig.cmake (found suitable version "3.6.1", minimum required is "3.5.0") 
-- Looking for pthread.h
-- Looking for pthread.h - found
-- Looking for pthread_create
-- Looking for pthread_create - not found
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE  
-- Found OpenSSL: /usr/lib/x86_64-linux-gnu/libssl.so;/usr/lib/x86_64-linux-gnu/libcrypto.so (found version "1.0.2g") 
-- Boost version: 1.58.0
-- Found the following Boost libraries:
--   log
--   log_setup
--   date_time
--   system
--   filesystem
--   thread
--   regex
--   chrono
--   atomic
[91mCMake Error at src/BeveragePreferenceService/CMakeLists.txt:8 (add_executable):
  Legacy variable expansion in source file
  "${THRIFT_GEN_CPP_DIR}/BeveragePreferenceService.cpp" expanded to
  "/vending-machine-microservices/gen-cpp/BeveragePreferenceService.cpp" in
  target "BeveragePreferenceService".  This behavior will be removed in a
  future version of CMake.


[0m-- Configuring incomplete, errors occurred!
See also "/vending-machine-microservices/build/CMakeFiles/CMakeOutput.log".
See also "/vending-machine-microservices/build/CMakeFiles/CMakeError.log".
[31mERROR[0m: Service 'beverage-preference-service' failed to build: The command '/bin/sh -c cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install' returned a non-zero code: 1
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker-compose build beverage-preference-service[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Kdown
Stopping vendingmachine_tutorial_order-beverage-service_1 ... 
Stopping vendingmachine_tutorial_weather-service_1        ... 
Stopping vendingmachine_tutorial_nginx-thrift_1           ... 
[1A[2KStopping vendingmachine_tutorial_nginx-thrift_1           ... [32mdone[0m[1B[2A[2KStopping vendingmachine_tutorial_weather-service_1        ... [32mdone[0m[2B[3A[2KStopping vendingmachine_tutorial_order-beverage-service_1 ... [32mdone[0m[3BRemoving vendingmachine_tutorial_beverage-preference-service_1 ... 
Removing vendingmachine_tutorial_order-beverage-service_1      ... 
Removing vendingmachine_tutorial_weather-service_1             ... 
Removing vendingmachine_tutorial_nginx-thrift_1                ... 
[4A[2KRemoving vendingmachine_tutorial_beverage-preference-service_1 ... [32mdone[0m[4B[1A[2KRemoving vendingmachine_tutorial_nginx-thrift_1                ... [32mdone[0m[1B[2A[2KRemoving vendingmachine_tutorial_weather-service_1             ... [32mdone[0m[2B[3A[2KRemoving vendingmachine_tutorial_order-beverage-service_1      ... [32mdone[0m[3BRemoving network vendingmachine_tutorial_default
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker-compose downbuild beverage-preference-service[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[14Pthrift --gen cpp vending_machine.thrift
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ thrift --gen cpp vending_machine.thrift[15Psudo docker-compose downbuild beverage-preference-service
Building beverage-preference-service
Step 1/5 : FROM yg397/thrift-microservice-deps:xenial
 ---> 1e2915736663
Step 2/5 : ARG NUM_CPUS=4
 ---> Using cache
 ---> 9aec4221eef1
Step 3/5 : COPY ./ /vending-machine-microservices
 ---> 39ea42b3725e
Step 4/5 : RUN cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install
 ---> Running in aed42830bb27
-- The C compiler identification is GNU 5.4.0
-- The CXX compiler identification is GNU 5.4.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- THRIFT_HOME: 
-- Thrift version: Thrift version 0.12.0
-- Found libevent: /usr/lib/x86_64-linux-gnu/libevent.so
-- Found nlohmann_json: /usr/local/lib/cmake/nlohmann_json/nlohmann_jsonConfig.cmake (found suitable version "3.6.1", minimum required is "3.5.0") 
-- Looking for pthread.h
-- Looking for pthread.h - found
-- Looking for pthread_create
-- Looking for pthread_create - not found
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE  
-- Found OpenSSL: /usr/lib/x86_64-linux-gnu/libssl.so;/usr/lib/x86_64-linux-gnu/libcrypto.so (found version "1.0.2g") 
-- Boost version: 1.58.0
-- Found the following Boost libraries:
--   log
--   log_setup
--   date_time
--   system
--   filesystem
--   thread
--   regex
--   chrono
--   atomic
[91mCMake Error at src/BeveragePreferenceService/CMakeLists.txt:8 (add_executable):
  Legacy variable expansion in source file
  "${THRIFT_GEN_CPP_DIR}/BeveragePreferenceService.cpp" expanded to
  "/vending-machine-microservices/gen-cpp/BeveragePreferenceService.cpp" in
  target "BeveragePreferenceService".  This behavior will be removed in a
  future version of CMake.


[0m-- Configuring incomplete, errors occurred!
See also "/vending-machine-microservices/build/CMakeFiles/CMakeOutput.log".
See also "/vending-machine-microservices/build/CMakeFiles/CMakeError.log".
[31mERROR[0m: Service 'beverage-preference-service' failed to build: The command '/bin/sh -c cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install' returned a non-zero code: 1
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ cat << 'EOF' > src/BeveragePreferenceService/CMakeLists.txt
> cmake_minimum_required(VERSION 3.5)
> cmake_policy(SET CMP0104 NEW)
> project(BeveragePreferenceService)
> 
> # point at the gen-cpp directory at the project root
> set(THRIFT_GEN_CPP_DIR "\${CMAKE_SOURCE_DIR}/gen-cpp")
> set(THRIFT_LIB thrift)
> 
> add_executable(
>   BeveragePreferenceService
>   BeveragePreferenceServer.cpp
>   BeveragePreferenceHandler.cpp
>   \${THRIFT_GEN_CPP_DIR}/BeveragePreferenceService.cpp
>   \${THRIFT_GEN_CPP_DIR}/vending_machine_types.cpp
> )
> 
> target_link_libraries(
>   BeveragePreferenceService
>   nlohmann_json::nlohmann_json
>   \${THRIFT_LIB}
>   \${CMAKE_THREAD_LIBS_INIT}
>   \${Boost_LIBRARIES}
>   Boost::log
>   Boost::log_setup
> )
> 
> install(TARGETS BeveragePreferenceService DESTINATION /usr/local/bin)
> EOF
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ thrift --gen cpp vending_machine.thrift
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker-compose build beverage-preference-service
Building beverage-preference-service
Step 1/5 : FROM yg397/thrift-microservice-deps:xenial
 ---> 1e2915736663
Step 2/5 : ARG NUM_CPUS=4
 ---> Using cache
 ---> 9aec4221eef1
Step 3/5 : COPY ./ /vending-machine-microservices
 ---> 9a70222edfb5
Step 4/5 : RUN cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install
 ---> Running in 2b2a2a11849e
-- The C compiler identification is GNU 5.4.0
-- The CXX compiler identification is GNU 5.4.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- THRIFT_HOME: 
-- Thrift version: Thrift version 0.12.0
-- Found libevent: /usr/lib/x86_64-linux-gnu/libevent.so
-- Found nlohmann_json: /usr/local/lib/cmake/nlohmann_json/nlohmann_jsonConfig.cmake (found suitable version "3.6.1", minimum required is "3.5.0") 
-- Looking for pthread.h
-- Looking for pthread.h - found
-- Looking for pthread_create
-- Looking for pthread_create - not found
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE  
-- Found OpenSSL: /usr/lib/x86_64-linux-gnu/libssl.so;/usr/lib/x86_64-linux-gnu/libcrypto.so (found version "1.0.2g") 
-- Boost version: 1.58.0
-- Found the following Boost libraries:
--   log
--   log_setup
--   date_time
--   system
--   filesystem
--   thread
--   regex
--   chrono
--   atomic
[91mCMake Error at src/BeveragePreferenceService/CMakeLists.txt:2 (cmake_policy):
  Policy "CMP0104" is not known to this version of CMake.


[0m[91mCMake Error at src/BeveragePreferenceService/CMakeLists.txt:9 (add_executable):
  Legacy variable expansion in source file
  "${THRIFT_GEN_CPP_DIR}/BeveragePreferenceService.cpp" expanded to
  "${CMAKE_SOURCE_DIR}/gen-cpp/BeveragePreferenceService.cpp" in target
  "BeveragePreferenceService".  This behavior will be removed in a future
  version of CMake.


[0m-- Configuring incomplete, errors occurred!
See also "/vending-machine-microservices/build/CMakeFiles/CMakeOutput.log".
See also "/vending-machine-microservices/build/CMakeFiles/CMakeError.log".
[31mERROR[0m: Service 'beverage-preference-service' failed to build: The command '/bin/sh -c cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install' returned a non-zero code: 1
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker-compose build beverage-preference-service[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[14Pthrift --gen cpp vending_machine.thriftsudo docker-compose build beverage-preference-service[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ksudo docker-compose build beverage-preference-service[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K
weather-service uses an image, skipping
nginx-thrift uses an image, skipping
Building order-beverage-service
Step 1/5 : FROM yg397/thrift-microservice-deps:xenial
 ---> 1e2915736663
Step 2/5 : ARG NUM_CPUS=4
 ---> Using cache
 ---> 9aec4221eef1
Step 3/5 : COPY ./ /vending-machine-microservices
 ---> 3621dda48368
Step 4/5 : RUN cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install
 ---> Running in 9551d9fe6f08
-- The C compiler identification is GNU 5.4.0
-- The CXX compiler identification is GNU 5.4.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- THRIFT_HOME: 
-- Thrift version: Thrift version 0.12.0
-- Found libevent: /usr/lib/x86_64-linux-gnu/libevent.so
-- Found nlohmann_json: /usr/local/lib/cmake/nlohmann_json/nlohmann_jsonConfig.cmake (found suitable version "3.6.1", minimum required is "3.5.0") 
-- Looking for pthread.h
-- Looking for pthread.h - found
-- Looking for pthread_create
-- Looking for pthread_create - not found
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE  
-- Found OpenSSL: /usr/lib/x86_64-linux-gnu/libssl.so;/usr/lib/x86_64-linux-gnu/libcrypto.so (found version "1.0.2g") 
-- Boost version: 1.58.0
-- Found the following Boost libraries:
--   log
--   log_setup
--   date_time
--   system
--   filesystem
--   thread
--   regex
--   chrono
--   atomic
[91mCMake Error at src/BeveragePreferenceService/CMakeLists.txt:2 (cmake_policy):
  Policy "CMP0104" is not known to this version of CMake.


[0m[91mCMake Error at src/BeveragePreferenceService/CMakeLists.txt:9 (add_executable):
  Legacy variable expansion in source file
  "${THRIFT_GEN_CPP_DIR}/BeveragePreferenceService.cpp" expanded to
  "${CMAKE_SOURCE_DIR}/gen-cpp/BeveragePreferenceService.cpp" in target
  "BeveragePreferenceService".  This behavior will be removed in a future
  version of CMake.


[0m-- Configuring incomplete, errors occurred!
See also "/vending-machine-microservices/build/CMakeFiles/CMakeOutput.log".
See also "/vending-machine-microservices/build/CMakeFiles/CMakeError.log".
[31mERROR[0m: Service 'order-beverage-service' failed to build: The command '/bin/sh -c cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install' returned a non-zero code: 1
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ cat << 'EOF' > src/BeveragePreferenceService/CMakeLists.txt
> cmake_minimum_required(VERSION 3.5)
> project(BeveragePreferenceService)
> 
> # gen-cpp is under the project root
> set(THRIFT_GEN_CPP_DIR "\${CMAKE_SOURCE_DIR}/gen-cpp")
> set(THRIFT_LIB thrift)
> 
> add_executable(
>   BeveragePreferenceService
>   BeveragePreferenceServer.cpp
>   BeveragePreferenceHandler.cpp
>   \${THRIFT_GEN_CPP_DIR}/BeveragePreferenceService.cpp
>   \${THRIFT_GEN_CPP_DIR}/vending_machine_types.cpp
> )
> 
> target_link_libraries(
>   BeveragePreferenceService
>   nlohmann_json::nlohmann_json
>   \${THRIFT_LIB}
>   \${CMAKE_THREAD_LIBS_INIT}
>   \${Boost_LIBRARIES}
>   Boost::log
>   Boost::log_setup
> )
> 
> install(TARGETS BeveragePreferenceService DESTINATION /usr/local/bin)
> EOF
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ cat << 'EOF' > src/BeveragePreferenceService/CMakeLists.txt
cmake_minimum_required(VERSION 3.5)
project(BeveragePreferenceService)

# gen-cpp is under the project root

set(THRIFT_GEN_CPP_DIR "\${CMAKE_SOURCE_DIR}/gen-cpp")
set(THRIFT_LIB thrift)

add_executable(
  BeveragePreferenceService
  BeveragePreferenceServer.cpp
  BeveragePreferenceHandler.cpp
  \${THRIFT_GEN_CPP_DIR}/BeveragePreferenceService.cpp
  \${THRIFT_GEN_CPP_DIR}/vending_machine_types.cpp
)

target_link_libraries(
  BeveragePreferenceService
  nlohmann_json::nlohmann_json
  \${THRIFT_LIB}
  \${CMAKE_THREAD_LIBS_INIT}
  \${Boost_LIBRARIES}
  Boost::log
  Boost::log_setup
)

install(TARGETS BeveragePreferenceService DESTINATION /usr/local/bin)
EOF
[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ccat << 'EOF' > src/BeveragePreferenceService/CMakeLists.txt
cmake_minimum_required(VERSION 3.5)
project(BeveragePreferenceService)

# gen-cpp is under the project root

set(THRIFT_GEN_CPP_DIR "\${CMAKE_SOURCE_DIR}/gen-cpp")
set(THRIFT_LIB thrift)

add_executable(
  BeveragePreferenceService
  BeveragePreferenceServer.cpp
  BeveragePreferenceHandler.cpp
  \${THRIFT_GEN_CPP_DIR}/BeveragePreferenceService.cpp
  \${THRIFT_GEN_CPP_DIR}/vending_machine_types.cpp
)

target_link_libraries(
  BeveragePreferenceService
  nlohmann_json::nlohmann_json
  \${THRIFT_LIB}
  \${CMAKE_THREAD_LIBS_INIT}
  \${Boost_LIBRARIES}
  Boost::log
  Boost::log_setup
)

install(TARGETS BeveragePreferenceService DESTINATION /usr/local/bin)
EOF
[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[34Psudo docker-compose build
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C beverage-preference-service[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[14Pthrift --gen cpp vending_machine.thrift
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ thrift --gen cpp vending_machine.thriftcat << 'EOF' > src/BeveragePreferenceService/CMakeLists.txt
cmake_minimum_required(VERSION 3.5)
project(BeveragePreferenceService)

# gen-cpp is under the project root

set(THRIFT_GEN_CPP_DIR "\${CMAKE_SOURCE_DIR}/gen-cpp")
set(THRIFT_LIB thrift)

add_executable(
  BeveragePreferenceService
  BeveragePreferenceServer.cpp
  BeveragePreferenceHandler.cpp
  \${THRIFT_GEN_CPP_DIR}/BeveragePreferenceService.cpp
  \${THRIFT_GEN_CPP_DIR}/vending_machine_types.cpp
)

target_link_libraries(
  BeveragePreferenceService
  nlohmann_json::nlohmann_json
  \${THRIFT_LIB}
  \${CMAKE_THREAD_LIBS_INIT}
  \${Boost_LIBRARIES}
  Boost::log
  Boost::log_setup
)

install(TARGETS BeveragePreferenceService DESTINATION /usr/local/bin)
EOF
[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[34Psudo docker-compose build
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[A[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C beverage-preference-service
Building beverage-preference-service
Step 1/5 : FROM yg397/thrift-microservice-deps:xenial
 ---> 1e2915736663
Step 2/5 : ARG NUM_CPUS=4
 ---> Using cache
 ---> 9aec4221eef1
Step 3/5 : COPY ./ /vending-machine-microservices
 ---> c83e7940b03d
Step 4/5 : RUN cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install
 ---> Running in fa8d6f38a951
-- The C compiler identification is GNU 5.4.0
-- The CXX compiler identification is GNU 5.4.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- THRIFT_HOME: 
-- Thrift version: Thrift version 0.12.0
-- Found libevent: /usr/lib/x86_64-linux-gnu/libevent.so
-- Found nlohmann_json: /usr/local/lib/cmake/nlohmann_json/nlohmann_jsonConfig.cmake (found suitable version "3.6.1", minimum required is "3.5.0") 
-- Looking for pthread.h
-- Looking for pthread.h - found
-- Looking for pthread_create
-- Looking for pthread_create - not found
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE  
-- Found OpenSSL: /usr/lib/x86_64-linux-gnu/libssl.so;/usr/lib/x86_64-linux-gnu/libcrypto.so (found version "1.0.2g") 
-- Boost version: 1.58.0
-- Found the following Boost libraries:
--   log
--   log_setup
--   date_time
--   system
--   filesystem
--   thread
--   regex
--   chrono
--   atomic
[91mCMake Error at src/BeveragePreferenceService/CMakeLists.txt:8 (add_executable):
  Legacy variable expansion in source file
  "${THRIFT_GEN_CPP_DIR}/BeveragePreferenceService.cpp" expanded to
  "${CMAKE_SOURCE_DIR}/gen-cpp/BeveragePreferenceService.cpp" in target
  "BeveragePreferenceService".  This behavior will be removed in a future
  version of CMake.


[0m-- Configuring incomplete, errors occurred!
See also "/vending-machine-microservices/build/CMakeFiles/CMakeOutput.log".
See also "/vending-machine-microservices/build/CMakeFiles/CMakeError.log".
[31mERROR[0m: Service 'beverage-preference-service' failed to build: The command '/bin/sh -c cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install' returned a non-zero code: 1
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ cat << 'EOF' > src/BeveragePreferenceService/CMakeLists.txt
> cmake_minimum_required(VERSION 3.5)
> project(BeveragePreferenceService)
> 
> # Point at the generated C++ stubs
> set(THRIFT_GEN_CPP_DIR "${CMAKE_SOURCE_DIR}/gen-cpp")
> set(THRIFT_LIB thrift)
> 
> add_executable(
>   BeveragePreferenceService
>   BeveragePreferenceServer.cpp
>   BeveragePreferenceHandler.cpp
>   ${THRIFT_GEN_CPP_DIR}/BeveragePreferenceService.cpp
>   ${THRIFT_GEN_CPP_DIR}/vending_machine_types.cpp
> )
> 
> # in case you need includes
> target_include_directories(BeveragePreferenceService PRIVATE
>   ${THRIFT_GEN_CPP_DIR}
>   ${CMAKE_CURRENT_SOURCE_DIR}
> )
> 
> target_link_libraries(
>   BeveragePreferenceService
>   nlohmann_json::nlohmann_json
>   ${THRIFT_LIB}
>   ${CMAKE_THREAD_LIBS_INIT}
>   ${Boost_LIBRARIES}
>   Boost::log
>   Boost::log_setup
> )
> 
> install(TARGETS BeveragePreferenceService DESTINATION /usr/local/bin)
> EOF
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ thrift --gen cpp vending_machine.thrift
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ Ss[K[Ksudo docker-compose down
Removing network vendingmachine_tutorial_default
[33mWARNING[0m: Network vendingmachine_tutorial_default not found.
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker-compose build beverage-preference-service
Building beverage-preference-service
Step 1/5 : FROM yg397/thrift-microservice-deps:xenial
 ---> 1e2915736663
Step 2/5 : ARG NUM_CPUS=4
 ---> Using cache
 ---> 9aec4221eef1
Step 3/5 : COPY ./ /vending-machine-microservices
 ---> 39b91c37cfa6
Step 4/5 : RUN cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install
 ---> Running in 8ef37c742803
-- The C compiler identification is GNU 5.4.0
-- The CXX compiler identification is GNU 5.4.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- THRIFT_HOME: 
-- Thrift version: Thrift version 0.12.0
-- Found libevent: /usr/lib/x86_64-linux-gnu/libevent.so
-- Found nlohmann_json: /usr/local/lib/cmake/nlohmann_json/nlohmann_jsonConfig.cmake (found suitable version "3.6.1", minimum required is "3.5.0") 
-- Looking for pthread.h
-- Looking for pthread.h - found
-- Looking for pthread_create
-- Looking for pthread_create - not found
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE  
-- Found OpenSSL: /usr/lib/x86_64-linux-gnu/libssl.so;/usr/lib/x86_64-linux-gnu/libcrypto.so (found version "1.0.2g") 
-- Boost version: 1.58.0
-- Found the following Boost libraries:
--   log
--   log_setup
--   date_time
--   system
--   filesystem
--   thread
--   regex
--   chrono
--   atomic
-- Configuring done
-- Generating done
-- Build files have been written to: /vending-machine-microservices/build
Scanning dependencies of target BeveragePreferenceService
Scanning dependencies of target WeatherService
Scanning dependencies of target OrderBeverageService
[  7%] Building CXX object src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/BeveragePreferenceHandler.cpp.o
[ 14%] Building CXX object src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/BeveragePreferenceServer.cpp.o
[ 21%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/WeatherService.cpp.o
[ 28%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/OrderBeverageService.cpp.o
[91m/vending-machine-microservices/src/BeveragePreferenceService/BeveragePreferenceServer.cpp:10:53: fatal error: ../../utils.h: No such file or directory
compilation terminated.
[0msrc/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/build.make:62: recipe for target 'src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/BeveragePreferenceServer.cpp.o' failed
[91mmake[2]: *** [src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/BeveragePreferenceServer.cpp.o] Error 1
make[2]: *** Waiting for unfinished jobs....
[0m[ 35%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/__/__/gen-cpp/WeatherService.cpp.o
[91m/vending-machine-microservices/src/BeveragePreferenceService/BeveragePreferenceHandler.cpp: In member function 'virtual void vending_machine::BeveragePreferenceHandler::getBeverage(std::__cxx11::string&, vending_machine::BeverageType::type)':
/vending-machine-microservices/src/BeveragePreferenceService/BeveragePreferenceHandler.cpp:10:16: error: 'Hot' is not a member of 'vending_machine::BeverageType'
   if (btype == BeverageType::Hot) {
                ^
[0msrc/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/build.make:86: recipe for target 'src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/BeveragePreferenceHandler.cpp.o' failed
[91mmake[2]: *** [src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/BeveragePreferenceHandler.cpp.o] Error 1
[0m[91mmake[1]: *** [src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/all] Error 2
make[1]: *** Waiting for unfinished jobs....
[0mCMakeFiles/Makefile2:219: recipe for target 'src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/all' failed
[ 42%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/__/__/gen-cpp/vending_machine_types.cpp.o
[ 50%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/OrderBeverageService.cpp.o
[ 57%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/WeatherService.cpp.o
[ 64%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/vending_machine_types.cpp.o
[ 71%] Linking CXX executable WeatherService
[ 71%] Built target WeatherService
[ 78%] Linking CXX executable OrderBeverageService
[ 78%] Built target OrderBeverageService
Makefile:127: recipe for target 'all' failed
[91mmake: *** [all] Error 2
[0m[31mERROR[0m: Service 'beverage-preference-service' failed to build: The command '/bin/sh -c cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install' returned a non-zero code: 2
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ thrift --gen cpp vending_machine.thrift
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker-compose down -v
Removing network vendingmachine_tutorial_default
[33mWARNING[0m: Network vendingmachine_tutorial_default not found.
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker-compose build beverage-preference-service
Building beverage-preference-service
Step 1/5 : FROM yg397/thrift-microservice-deps:xenial
 ---> 1e2915736663
Step 2/5 : ARG NUM_CPUS=4
 ---> Using cache
 ---> 9aec4221eef1
Step 3/5 : COPY ./ /vending-machine-microservices
 ---> 0b17fb89211d
Step 4/5 : RUN cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install
 ---> Running in f3f2304ec876
-- The C compiler identification is GNU 5.4.0
-- The CXX compiler identification is GNU 5.4.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- THRIFT_HOME: 
-- Thrift version: Thrift version 0.12.0
-- Found libevent: /usr/lib/x86_64-linux-gnu/libevent.so
-- Found nlohmann_json: /usr/local/lib/cmake/nlohmann_json/nlohmann_jsonConfig.cmake (found suitable version "3.6.1", minimum required is "3.5.0") 
-- Looking for pthread.h
-- Looking for pthread.h - found
-- Looking for pthread_create
-- Looking for pthread_create - not found
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE  
-- Found OpenSSL: /usr/lib/x86_64-linux-gnu/libssl.so;/usr/lib/x86_64-linux-gnu/libcrypto.so (found version "1.0.2g") 
-- Boost version: 1.58.0
-- Found the following Boost libraries:
--   log
--   log_setup
--   date_time
--   system
--   filesystem
--   thread
--   regex
--   chrono
--   atomic
-- Configuring done
-- Generating done
-- Build files have been written to: /vending-machine-microservices/build
Scanning dependencies of target BeveragePreferenceService
Scanning dependencies of target WeatherService
Scanning dependencies of target OrderBeverageService
[ 14%] Building CXX object src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/BeveragePreferenceServer.cpp.o
[ 14%] Building CXX object src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/BeveragePreferenceHandler.cpp.o
[ 21%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/WeatherService.cpp.o
[ 28%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/OrderBeverageService.cpp.o
[91m/vending-machine-microservices/src/BeveragePreferenceService/BeveragePreferenceServer.cpp:10:53: fatal error: ../../utils.h: No such file or directory
compilation terminated.
[0m[91mmake[2]: *** [src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/BeveragePreferenceServer.cpp.o] Error 1
make[2]: *** Waiting for unfinished jobs....
[0msrc/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/build.make:62: recipe for target 'src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/BeveragePreferenceServer.cpp.o' failed
[ 35%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/OrderBeverageService.cpp.o
CMakeFiles/Makefile2:219: recipe for target 'src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/all' failed
[91mmake[1]: *** [src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/all] Error 2
make[1]: *** Waiting for unfinished jobs....
[0m[ 42%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/WeatherService.cpp.o
[ 50%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/vending_machine_types.cpp.o
[ 57%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/__/__/gen-cpp/WeatherService.cpp.o
[ 64%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/__/__/gen-cpp/vending_machine_types.cpp.o
[ 71%] Linking CXX executable WeatherService
[ 71%] Built target WeatherService
[ 78%] Linking CXX executable OrderBeverageService
[ 78%] Built target OrderBeverageService
Makefile:127: recipe for target 'all' failed
[91mmake: *** [all] Error 2
[0m[31mERROR[0m: Service 'beverage-preference-service' failed to build: The command '/bin/sh -c cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install' returned a non-zero code: 2
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ thrift --gen cpp vending_machine.thrift
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker-compose down -v
Removing network vendingmachine_tutorial_default
[33mWARNING[0m: Network vendingmachine_tutorial_default not found.
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker-compose build beverage-preference-service
Building beverage-preference-service
Step 1/5 : FROM yg397/thrift-microservice-deps:xenial
 ---> 1e2915736663
Step 2/5 : ARG NUM_CPUS=4
 ---> Using cache
 ---> 9aec4221eef1
Step 3/5 : COPY ./ /vending-machine-microservices
 ---> 894eebe288f1
Step 4/5 : RUN cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install
 ---> Running in ec6b2b5f76a9
-- The C compiler identification is GNU 5.4.0
-- The CXX compiler identification is GNU 5.4.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- THRIFT_HOME: 
-- Thrift version: Thrift version 0.12.0
-- Found libevent: /usr/lib/x86_64-linux-gnu/libevent.so
-- Found nlohmann_json: /usr/local/lib/cmake/nlohmann_json/nlohmann_jsonConfig.cmake (found suitable version "3.6.1", minimum required is "3.5.0") 
-- Looking for pthread.h
-- Looking for pthread.h - found
-- Looking for pthread_create
-- Looking for pthread_create - not found
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE  
-- Found OpenSSL: /usr/lib/x86_64-linux-gnu/libssl.so;/usr/lib/x86_64-linux-gnu/libcrypto.so (found version "1.0.2g") 
-- Boost version: 1.58.0
-- Found the following Boost libraries:
--   log
--   log_setup
--   date_time
--   system
--   filesystem
--   thread
--   regex
--   chrono
--   atomic
-- Configuring done
-- Generating done
-- Build files have been written to: /vending-machine-microservices/build
Scanning dependencies of target WeatherService
Scanning dependencies of target OrderBeverageService
Scanning dependencies of target BeveragePreferenceService
[ 28%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/__/__/gen-cpp/WeatherService.cpp.o
[ 28%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/OrderBeverageService.cpp.o
[ 28%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/WeatherService.cpp.o
[ 28%] Building CXX object src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/BeveragePreferenceServer.cpp.o
[ 35%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/__/__/gen-cpp/vending_machine_types.cpp.o
[ 42%] Building CXX object src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/BeveragePreferenceHandler.cpp.o
[ 50%] Building CXX object src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/__/__/gen-cpp/BeveragePreferenceService.cpp.o
[ 57%] Building CXX object src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/__/__/gen-cpp/vending_machine_types.cpp.o
[ 64%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/OrderBeverageService.cpp.o
[ 71%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/WeatherService.cpp.o
[ 78%] Linking CXX executable BeveragePreferenceService
[ 78%] Built target BeveragePreferenceService
[ 85%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/vending_machine_types.cpp.o
[ 92%] Linking CXX executable WeatherService
[ 92%] Built target WeatherService
[100%] Linking CXX executable OrderBeverageService
[100%] Built target OrderBeverageService
[ 35%] Built target OrderBeverageService
[ 64%] Built target WeatherService
[100%] Built target BeveragePreferenceService
Install the project...
-- Install configuration: ""
-- Installing: /usr/local/bin/./OrderBeverageService
-- Set runtime path of "/usr/local/bin/./OrderBeverageService" to ""
-- Installing: /usr/local/bin/./WeatherService
-- Set runtime path of "/usr/local/bin/./WeatherService" to ""
-- Installing: /usr/local/bin/BeveragePreferenceService
 ---> Removed intermediate container ec6b2b5f76a9
 ---> 6679443ec00f
Step 5/5 : WORKDIR /vending-machine-microservices
 ---> Running in d9837b77867a
 ---> Removed intermediate container d9837b77867a
 ---> d67d980b5f96
Successfully built d67d980b5f96
Successfully tagged nikhilns221/vending-machine-microservices:latest
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker-compose up -d
Creating network "vendingmachine_tutorial_default" with the default driver
Creating vendingmachine_tutorial_order-beverage-service_1 ... 
Creating vendingmachine_tutorial_nginx-thrift_1           ... 
Creating vendingmachine_tutorial_beverage-preference-service_1 ... 
Creating vendingmachine_tutorial_weather-service_1             ... 
[1A[2KCreating vendingmachine_tutorial_weather-service_1             ... [32mdone[0m[1B[3A[2KCreating vendingmachine_tutorial_nginx-thrift_1                ... [32mdone[0m[3B[4A[2KCreating vendingmachine_tutorial_order-beverage-service_1      ... [32mdone[0m[4B[2A[2KCreating vendingmachine_tutorial_beverage-preference-service_1 ... [32mdone[0m[2B]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ thrift --gen cpp vending_machine.thrift
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudop [K[Kc[K docker-compose down
Stopping vendingmachine_tutorial_beverage-preference-service_1 ... 
Stopping vendingmachine_tutorial_weather-service_1             ... 
Stopping vendingmachine_tutorial_order-beverage-service_1      ... 
Stopping vendingmachine_tutorial_nginx-thrift_1                ... 
[1A[2KStopping vendingmachine_tutorial_nginx-thrift_1                ... [32mdone[0m[1B[2A[2KStopping vendingmachine_tutorial_order-beverage-service_1      ... [32mdone[0m[2B[4A[2KStopping vendingmachine_tutorial_beverage-preference-service_1 ... [32mdone[0m[4B[3A[2KStopping vendingmachine_tutorial_weather-service_1             ... [32mdone[0m[3BRemoving vendingmachine_tutorial_beverage-preference-service_1 ... 
Removing vendingmachine_tutorial_weather-service_1             ... 
Removing vendingmachine_tutorial_order-beverage-service_1      ... 
Removing vendingmachine_tutorial_nginx-thrift_1                ... 
[2A[2KRemoving vendingmachine_tutorial_order-beverage-service_1      ... [32mdone[0m[2B[3A[2KRemoving vendingmachine_tutorial_weather-service_1             ... [32mdone[0m[3B[4A[2KRemoving vendingmachine_tutorial_beverage-preference-service_1 ... [32mdone[0m[4B[1A[2KRemoving vendingmachine_tutorial_nginx-thrift_1                ... [32mdone[0m[1BRemoving network vendingmachine_tutorial_default
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ thrift --gen cpp vending_machine.thrift
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker-compose build order-beverage-service
Building order-beverage-service
Step 1/5 : FROM yg397/thrift-microservice-deps:xenial
 ---> 1e2915736663
Step 2/5 : ARG NUM_CPUS=4
 ---> Using cache
 ---> 9aec4221eef1
Step 3/5 : COPY ./ /vending-machine-microservices
 ---> 4f6db94b2072
Step 4/5 : RUN cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install
 ---> Running in 837f877abde0
-- The C compiler identification is GNU 5.4.0
-- The CXX compiler identification is GNU 5.4.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- THRIFT_HOME: 
-- Thrift version: Thrift version 0.12.0
-- Found libevent: /usr/lib/x86_64-linux-gnu/libevent.so
-- Found nlohmann_json: /usr/local/lib/cmake/nlohmann_json/nlohmann_jsonConfig.cmake (found suitable version "3.6.1", minimum required is "3.5.0") 
-- Looking for pthread.h
-- Looking for pthread.h - found
-- Looking for pthread_create
-- Looking for pthread_create - not found
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE  
-- Found OpenSSL: /usr/lib/x86_64-linux-gnu/libssl.so;/usr/lib/x86_64-linux-gnu/libcrypto.so (found version "1.0.2g") 
-- Boost version: 1.58.0
-- Found the following Boost libraries:
--   log
--   log_setup
--   date_time
--   system
--   filesystem
--   thread
--   regex
--   chrono
--   atomic
-- Configuring done
-- Generating done
-- Build files have been written to: /vending-machine-microservices/build
Scanning dependencies of target WeatherService
Scanning dependencies of target OrderBeverageService
Scanning dependencies of target BeveragePreferenceService
[ 28%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/__/__/gen-cpp/WeatherService.cpp.o
[ 28%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/OrderBeverageService.cpp.o
[ 28%] Building CXX object src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/BeveragePreferenceServer.cpp.o
[ 28%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/WeatherService.cpp.o
[ 35%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/__/__/gen-cpp/vending_machine_types.cpp.o
[ 42%] Building CXX object src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/BeveragePreferenceHandler.cpp.o
[ 50%] Building CXX object src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/__/__/gen-cpp/BeveragePreferenceService.cpp.o
[ 57%] Building CXX object src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/__/__/gen-cpp/vending_machine_types.cpp.o
[ 64%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/OrderBeverageService.cpp.o
[ 71%] Linking CXX executable BeveragePreferenceService
[ 78%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/WeatherService.cpp.o
[ 78%] Built target BeveragePreferenceService
[ 85%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/vending_machine_types.cpp.o
[ 92%] Linking CXX executable WeatherService
[ 92%] Built target WeatherService
[100%] Linking CXX executable OrderBeverageService
[100%] Built target OrderBeverageService
[ 35%] Built target OrderBeverageService
[ 64%] Built target WeatherService
[100%] Built target BeveragePreferenceService
Install the project...
-- Install configuration: ""
-- Installing: /usr/local/bin/./OrderBeverageService
-- Set runtime path of "/usr/local/bin/./OrderBeverageService" to ""
-- Installing: /usr/local/bin/./WeatherService
-- Set runtime path of "/usr/local/bin/./WeatherService" to ""
-- Installing: /usr/local/bin/BeveragePreferenceService
 ---> Removed intermediate container 837f877abde0
 ---> 36e472b27a10
Step 5/5 : WORKDIR /vending-machine-microservices
 ---> Running in a597aa2380ff
 ---> Removed intermediate container a597aa2380ff
 ---> 12b002cda63b
Successfully built 12b002cda63b
Successfully tagged nikhilns221/vending-machine-microservices:latest
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker-compose up -d
Creating network "vendingmachine_tutorial_default" with the default driver
Creating vendingmachine_tutorial_weather-service_1 ... 
Creating vendingmachine_tutorial_order-beverage-service_1 ... 
Creating vendingmachine_tutorial_beverage-preference-service_1 ... 
Creating vendingmachine_tutorial_nginx-thrift_1                ... 
[3A[2KCreating vendingmachine_tutorial_order-beverage-service_1      ... [32mdone[0m[3B[1A[2KCreating vendingmachine_tutorial_nginx-thrift_1                ... [32mdone[0m[1B[2A[2KCreating vendingmachine_tutorial_beverage-preference-service_1 ... [32mdone[0m[2B[4A[2KCreating vendingmachine_tutorial_weather-service_1             ... [32mdone[0m[4B]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ [K]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ cd nginx_reverse_proxy
]0;Nikhilns@node2: ~/vendingmachine_tutorial/nginx_reverse_proxy[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial/nginx_reverse_proxy[00m$ sudo docker-compose up --build -d nginx-thrift
vendingmachine_tutorial_nginx-thrift_1 is up-to-date
]0;Nikhilns@node2: ~/vendingmachine_tutorial/nginx_reverse_proxy[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial/nginx_reverse_proxy[00m$ sudo docker-compose down
Stopping vendingmachine_tutorial_nginx-thrift_1                ... 
Stopping vendingmachine_tutorial_order-beverage-service_1      ... 
Stopping vendingmachine_tutorial_beverage-preference-service_1 ... 
Stopping vendingmachine_tutorial_weather-service_1             ... 
[4A[2KStopping vendingmachine_tutorial_nginx-thrift_1                ... [32mdone[0m[4B[2A[2KStopping vendingmachine_tutorial_beverage-preference-service_1 ... [32mdone[0m[2B[1A[2KStopping vendingmachine_tutorial_weather-service_1             ... [32mdone[0m[1B[3A[2KStopping vendingmachine_tutorial_order-beverage-service_1      ... [32mdone[0m[3BRemoving vendingmachine_tutorial_nginx-thrift_1                ... 
Removing vendingmachine_tutorial_order-beverage-service_1      ... 
Removing vendingmachine_tutorial_beverage-preference-service_1 ... 
Removing vendingmachine_tutorial_weather-service_1             ... 
[3A[2KRemoving vendingmachine_tutorial_order-beverage-service_1      ... [32mdone[0m[3B[1A[2KRemoving vendingmachine_tutorial_weather-service_1             ... [32mdone[0m[1B[2A[2KRemoving vendingmachine_tutorial_beverage-preference-service_1 ... [32mdone[0m[2B[4A[2KRemoving vendingmachine_tutorial_nginx-thrift_1                ... [32mdone[0m[4BRemoving network vendingmachine_tutorial_default
]0;Nikhilns@node2: ~/vendingmachine_tutorial/nginx_reverse_proxy[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial/nginx_reverse_proxy[00m$ sudo docker-compose downup --build -d nginx-thrift[24Pcd nginx_reverse_proxysudo docker-compose up -dbuild order-beverage-service[9Pthrift --gen cpp vending_machine.thrift
[FAILURE:arguments:1] Could not open input file with realpath: vending_machine.thrift
]0;Nikhilns@node2: ~/vendingmachine_tutorial/nginx_reverse_proxy[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial/nginx_reverse_proxy[00m$ thrift --gen cpp vending_machine.thrift[Kthrift --gen cpp vending_machine.thrift[15Psudo docker-compose downup --build -d nginx-thrift
Creating network "vendingmachine_tutorial_default" with the default driver
Creating vendingmachine_tutorial_nginx-thrift_1 ... 
[1A[2KCreating vendingmachine_tutorial_nginx-thrift_1 ... [32mdone[0m[1B]0;Nikhilns@node2: ~/vendingmachine_tutorial/nginx_reverse_proxy[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial/nginx_reverse_proxy[00m$ curl http://localhost:8080/order?city=123
<html>
<head><title>500 Internal Server Error</title></head>
<body>
<center><h1>500 Internal Server Error</h1></center>
<hr><center>openresty/1.15.8.1rc1</center>
</body>
</html>
]0;Nikhilns@node2: ~/vendingmachine_tutorial/nginx_reverse_proxy[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial/nginx_reverse_proxy[00m$ sudo docker-composer down
sudo: docker-composer: command not found
]0;Nikhilns@node2: ~/vendingmachine_tutorial/nginx_reverse_proxy[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial/nginx_reverse_proxy[00m$ sudo docker-composer down[C[1P down
Stopping vendingmachine_tutorial_nginx-thrift_1 ... 
[1A[2KStopping vendingmachine_tutorial_nginx-thrift_1 ... [32mdone[0m[1BRemoving vendingmachine_tutorial_nginx-thrift_1 ... 
[1A[2KRemoving vendingmachine_tutorial_nginx-thrift_1 ... [32mdone[0m[1BRemoving network vendingmachine_tutorial_default
]0;Nikhilns@node2: ~/vendingmachine_tutorial/nginx_reverse_proxy[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial/nginx_reverse_proxy[00m$ sudo docker-compose up --build -d nginx-thrift
Creating network "vendingmachine_tutorial_default" with the default driver
Creating vendingmachine_tutorial_nginx-thrift_1 ... 
[1A[2KCreating vendingmachine_tutorial_nginx-thrift_1 ... [32mdone[0m[1B]0;Nikhilns@node2: ~/vendingmachine_tutorial/nginx_reverse_proxy[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial/nginx_reverse_proxy[00m$ docker-compose logs nginx-thrift
[31mERROR[0m: Couldn't connect to Docker daemon at http+docker://localhost - is it running?

If it's at a non-standard location, specify the URL with the DOCKER_HOST environment variable.
]0;Nikhilns@node2: ~/vendingmachine_tutorial/nginx_reverse_proxy[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial/nginx_reverse_proxy[00m$ curl http://localhost:8080/order?city=123
curl: (7) Failed to connect to localhost port 8080: Connection refused
]0;Nikhilns@node2: ~/vendingmachine_tutorial/nginx_reverse_proxy[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial/nginx_reverse_proxy[00m$ cd ..
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker-compose down
Stopping vendingmachine_tutorial_nginx-thrift_1 ... 
[1A[2KStopping vendingmachine_tutorial_nginx-thrift_1 ... [32mdone[0m[1BRemoving vendingmachine_tutorial_nginx-thrift_1 ... 
[1A[2KRemoving vendingmachine_tutorial_nginx-thrift_1 ... [32mdone[0m[1BRemoving network vendingmachine_tutorial_default
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker-compose up --build -d
Creating network "vendingmachine_tutorial_default" with the default driver
Building order-beverage-service
Step 1/5 : FROM yg397/thrift-microservice-deps:xenial
 ---> 1e2915736663
Step 2/5 : ARG NUM_CPUS=4
 ---> Using cache
 ---> 9aec4221eef1
Step 3/5 : COPY ./ /vending-machine-microservices
 ---> a155f960bcaa
Step 4/5 : RUN cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install
 ---> Running in de4c8ae0e20f
-- The C compiler identification is GNU 5.4.0
-- The CXX compiler identification is GNU 5.4.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- THRIFT_HOME: 
-- Thrift version: Thrift version 0.12.0
-- Found libevent: /usr/lib/x86_64-linux-gnu/libevent.so
-- Found nlohmann_json: /usr/local/lib/cmake/nlohmann_json/nlohmann_jsonConfig.cmake (found suitable version "3.6.1", minimum required is "3.5.0") 
-- Looking for pthread.h
-- Looking for pthread.h - found
-- Looking for pthread_create
-- Looking for pthread_create - not found
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE  
-- Found OpenSSL: /usr/lib/x86_64-linux-gnu/libssl.so;/usr/lib/x86_64-linux-gnu/libcrypto.so (found version "1.0.2g") 
-- Boost version: 1.58.0
-- Found the following Boost libraries:
--   log
--   log_setup
--   date_time
--   system
--   filesystem
--   thread
--   regex
--   chrono
--   atomic
-- Configuring done
-- Generating done
-- Build files have been written to: /vending-machine-microservices/build
Scanning dependencies of target WeatherService
Scanning dependencies of target OrderBeverageService
Scanning dependencies of target BeveragePreferenceService
[ 28%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/__/__/gen-cpp/WeatherService.cpp.o
[ 28%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/OrderBeverageService.cpp.o
[ 28%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/WeatherService.cpp.o
[ 28%] Building CXX object src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/BeveragePreferenceServer.cpp.o
[ 35%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/__/__/gen-cpp/vending_machine_types.cpp.o
[ 42%] Building CXX object src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/BeveragePreferenceHandler.cpp.o
[ 50%] Building CXX object src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/__/__/gen-cpp/BeveragePreferenceService.cpp.o
[ 57%] Building CXX object src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/__/__/gen-cpp/vending_machine_types.cpp.o
[ 64%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/OrderBeverageService.cpp.o
[ 71%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/WeatherService.cpp.o
[ 78%] Linking CXX executable BeveragePreferenceService
[ 78%] Built target BeveragePreferenceService
[ 85%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/vending_machine_types.cpp.o
[ 92%] Linking CXX executable WeatherService
[ 92%] Built target WeatherService
[100%] Linking CXX executable OrderBeverageService
[100%] Built target OrderBeverageService
[ 35%] Built target OrderBeverageService
[ 64%] Built target WeatherService
[100%] Built target BeveragePreferenceService
Install the project...
-- Install configuration: ""
-- Installing: /usr/local/bin/./OrderBeverageService
-- Set runtime path of "/usr/local/bin/./OrderBeverageService" to ""
-- Installing: /usr/local/bin/./WeatherService
-- Set runtime path of "/usr/local/bin/./WeatherService" to ""
-- Installing: /usr/local/bin/BeveragePreferenceService
 ---> Removed intermediate container de4c8ae0e20f
 ---> 252cb6150787
Step 5/5 : WORKDIR /vending-machine-microservices
 ---> Running in bf5af2de242d
 ---> Removed intermediate container bf5af2de242d
 ---> cb07169b1409
Successfully built cb07169b1409
Successfully tagged nikhilns221/vending-machine-microservices:latest
Building beverage-preference-service
Step 1/5 : FROM yg397/thrift-microservice-deps:xenial
 ---> 1e2915736663
Step 2/5 : ARG NUM_CPUS=4
 ---> Using cache
 ---> 9aec4221eef1
Step 3/5 : COPY ./ /vending-machine-microservices
 ---> 4ae16c37e484
Step 4/5 : RUN cd /vending-machine-microservices     && mkdir -p build     && cd build     && cmake ..     && make -j${NUM_CPUS}     && make install
 ---> Running in c629365fd863
-- The C compiler identification is GNU 5.4.0
-- The CXX compiler identification is GNU 5.4.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- THRIFT_HOME: 
-- Thrift version: Thrift version 0.12.0
-- Found libevent: /usr/lib/x86_64-linux-gnu/libevent.so
-- Found nlohmann_json: /usr/local/lib/cmake/nlohmann_json/nlohmann_jsonConfig.cmake (found suitable version "3.6.1", minimum required is "3.5.0") 
-- Looking for pthread.h
-- Looking for pthread.h - found
-- Looking for pthread_create
-- Looking for pthread_create - not found
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE  
-- Found OpenSSL: /usr/lib/x86_64-linux-gnu/libssl.so;/usr/lib/x86_64-linux-gnu/libcrypto.so (found version "1.0.2g") 
-- Boost version: 1.58.0
-- Found the following Boost libraries:
--   log
--   log_setup
--   date_time
--   system
--   filesystem
--   thread
--   regex
--   chrono
--   atomic
-- Configuring done
-- Generating done
-- Build files have been written to: /vending-machine-microservices/build
Scanning dependencies of target WeatherService
Scanning dependencies of target OrderBeverageService
Scanning dependencies of target BeveragePreferenceService
[ 21%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/OrderBeverageService.cpp.o
[ 21%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/WeatherService.cpp.o
[ 21%] Building CXX object src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/BeveragePreferenceServer.cpp.o
[ 28%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/__/__/gen-cpp/WeatherService.cpp.o
[ 35%] Building CXX object src/WeatherService/CMakeFiles/WeatherService.dir/__/__/gen-cpp/vending_machine_types.cpp.o
[ 42%] Building CXX object src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/BeveragePreferenceHandler.cpp.o
[ 50%] Building CXX object src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/__/__/gen-cpp/BeveragePreferenceService.cpp.o
[ 57%] Building CXX object src/BeveragePreferenceService/CMakeFiles/BeveragePreferenceService.dir/__/__/gen-cpp/vending_machine_types.cpp.o
[ 64%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/OrderBeverageService.cpp.o
[ 71%] Linking CXX executable BeveragePreferenceService
[ 78%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/WeatherService.cpp.o
[ 78%] Built target BeveragePreferenceService
[ 85%] Building CXX object src/OrderBeverageService/CMakeFiles/OrderBeverageService.dir/__/__/gen-cpp/vending_machine_types.cpp.o
[ 92%] Linking CXX executable WeatherService
[ 92%] Built target WeatherService
[100%] Linking CXX executable OrderBeverageService
[100%] Built target OrderBeverageService
[ 35%] Built target OrderBeverageService
[ 64%] Built target WeatherService
[100%] Built target BeveragePreferenceService
Install the project...
-- Install configuration: ""
-- Installing: /usr/local/bin/./OrderBeverageService
-- Set runtime path of "/usr/local/bin/./OrderBeverageService" to ""
-- Installing: /usr/local/bin/./WeatherService
-- Set runtime path of "/usr/local/bin/./WeatherService" to ""
-- Installing: /usr/local/bin/BeveragePreferenceService
 ---> Removed intermediate container c629365fd863
 ---> 5dac75e4ab39
Step 5/5 : WORKDIR /vending-machine-microservices
 ---> Running in d55b2020d4c1
 ---> Removed intermediate container d55b2020d4c1
 ---> e2a5010da25e
Successfully built e2a5010da25e
Successfully tagged nikhilns221/vending-machine-microservices:latest
Creating vendingmachine_tutorial_order-beverage-service_1 ... 
Creating vendingmachine_tutorial_weather-service_1        ... 
Creating vendingmachine_tutorial_beverage-preference-service_1 ... 
Creating vendingmachine_tutorial_nginx-thrift_1                ... 
[2A[2KCreating vendingmachine_tutorial_beverage-preference-service_1 ... [32mdone[0m[2B[3A[2KCreating vendingmachine_tutorial_weather-service_1             ... [32mdone[0m[3B[4A[2KCreating vendingmachine_tutorial_order-beverage-service_1      ... [32mdone[0m[4B[1A[2KCreating vendingmachine_tutorial_nginx-thrift_1                ... [32mdone[0m[1B]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker-compose ps
                        Name                                       Command                 State                       Ports                  
----------------------------------------------------------------------------------------------------------------------------------------------
vendingmachine_tutorial_beverage-preference-service_1   BeveragePreferenceService  ...   Up           0.0.0.0:9092->9092/tcp,:::9092->9092/tcp
vendingmachine_tutorial_nginx-thrift_1                  /usr/local/openresty/bin/o ...   Restarting                                           
vendingmachine_tutorial_order-beverage-service_1        OrderBeverageService             Up           0.0.0.0:9091->9091/tcp,:::9091->9091/tcp
vendingmachine_tutorial_weather-service_1               WeatherService                   Up                                                   
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker-compose logs -f nginx-thrift
Attaching to vendingmachine_tutorial_nginx-thrift_1
[36mnginx-thrift_1                 |[0m 2025/04/18 08:37:56 [error] 1#1: init_by_lua error: init_by_lua:3: module 'thrift' not found:
[36mnginx-thrift_1                 |[0m 	no field package.preload['thrift']
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lua-scripts/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file './thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/luajit-2.1.0-beta3/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file './thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/loadall.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.so'
[36mnginx-thrift_1                 |[0m stack traceback:
[36mnginx-thrift_1                 |[0m 	[C]: in function 'require'
[36mnginx-thrift_1                 |[0m 	init_by_lua:3: in main chunk
[36mnginx-thrift_1                 |[0m nginx: [error] init_by_lua error: init_by_lua:3: module 'thrift' not found:
[36mnginx-thrift_1                 |[0m 	no field package.preload['thrift']
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lua-scripts/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file './thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/luajit-2.1.0-beta3/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file './thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/loadall.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.so'
[36mnginx-thrift_1                 |[0m stack traceback:
[36mnginx-thrift_1                 |[0m 	[C]: in function 'require'
[36mnginx-thrift_1                 |[0m 	init_by_lua:3: in main chunk
[36mnginx-thrift_1                 |[0m 2025/04/18 08:37:57 [error] 1#1: init_by_lua error: init_by_lua:3: module 'thrift' not found:
[36mnginx-thrift_1                 |[0m 	no field package.preload['thrift']
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lua-scripts/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file './thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/luajit-2.1.0-beta3/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file './thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/loadall.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.so'
[36mnginx-thrift_1                 |[0m stack traceback:
[36mnginx-thrift_1                 |[0m 	[C]: in function 'require'
[36mnginx-thrift_1                 |[0m 	init_by_lua:3: in main chunk
[36mnginx-thrift_1                 |[0m nginx: [error] init_by_lua error: init_by_lua:3: module 'thrift' not found:
[36mnginx-thrift_1                 |[0m 	no field package.preload['thrift']
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lua-scripts/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file './thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/luajit-2.1.0-beta3/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file './thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/loadall.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.so'
[36mnginx-thrift_1                 |[0m stack traceback:
[36mnginx-thrift_1                 |[0m 	[C]: in function 'require'
[36mnginx-thrift_1                 |[0m 	init_by_lua:3: in main chunk
[36mnginx-thrift_1                 |[0m 2025/04/18 08:37:59 [error] 1#1: init_by_lua error: init_by_lua:3: module 'thrift' not found:
[36mnginx-thrift_1                 |[0m 	no field package.preload['thrift']
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lua-scripts/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file './thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/luajit-2.1.0-beta3/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file './thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/loadall.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.so'
[36mnginx-thrift_1                 |[0m stack traceback:
[36mnginx-thrift_1                 |[0m 	[C]: in function 'require'
[36mnginx-thrift_1                 |[0m 	init_by_lua:3: in main chunk
[36mnginx-thrift_1                 |[0m nginx: [error] init_by_lua error: init_by_lua:3: module 'thrift' not found:
[36mnginx-thrift_1                 |[0m 	no field package.preload['thrift']
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lua-scripts/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file './thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/luajit-2.1.0-beta3/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file './thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/loadall.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.so'
[36mnginx-thrift_1                 |[0m stack traceback:
[36mnginx-thrift_1                 |[0m 	[C]: in function 'require'
[36mnginx-thrift_1                 |[0m 	init_by_lua:3: in main chunk
[36mnginx-thrift_1                 |[0m 2025/04/18 08:38:01 [error] 1#1: init_by_lua error: init_by_lua:3: module 'thrift' not found:
[36mnginx-thrift_1                 |[0m 	no field package.preload['thrift']
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lua-scripts/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file './thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/luajit-2.1.0-beta3/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file './thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/loadall.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.so'
[36mnginx-thrift_1                 |[0m stack traceback:
[36mnginx-thrift_1                 |[0m 	[C]: in function 'require'
[36mnginx-thrift_1                 |[0m 	init_by_lua:3: in main chunk
[36mnginx-thrift_1                 |[0m nginx: [error] init_by_lua error: init_by_lua:3: module 'thrift' not found:
[36mnginx-thrift_1                 |[0m 	no field package.preload['thrift']
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lua-scripts/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file './thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/luajit-2.1.0-beta3/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file './thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/loadall.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.so'
[36mnginx-thrift_1                 |[0m stack traceback:
[36mnginx-thrift_1                 |[0m 	[C]: in function 'require'
[36mnginx-thrift_1                 |[0m 	init_by_lua:3: in main chunk
[36mnginx-thrift_1                 |[0m 2025/04/18 08:38:02 [error] 1#1: init_by_lua error: init_by_lua:3: module 'thrift' not found:
[36mnginx-thrift_1                 |[0m 	no field package.preload['thrift']
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lua-scripts/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file './thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/luajit-2.1.0-beta3/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file './thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/loadall.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.so'
[36mnginx-thrift_1                 |[0m stack traceback:
[36mnginx-thrift_1                 |[0m 	[C]: in function 'require'
[36mnginx-thrift_1                 |[0m 	init_by_lua:3: in main chunk
[36mnginx-thrift_1                 |[0m nginx: [error] init_by_lua error: init_by_lua:3: module 'thrift' not found:
[36mnginx-thrift_1                 |[0m 	no field package.preload['thrift']
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lua-scripts/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file './thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/luajit-2.1.0-beta3/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file './thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/loadall.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.so'
[36mnginx-thrift_1                 |[0m stack traceback:
[36mnginx-thrift_1                 |[0m 	[C]: in function 'require'
[36mnginx-thrift_1                 |[0m 	init_by_lua:3: in main chunk
[36mnginx-thrift_1                 |[0m 2025/04/18 08:38:05 [error] 1#1: init_by_lua error: init_by_lua:3: module 'thrift' not found:
[36mnginx-thrift_1                 |[0m 	no field package.preload['thrift']
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lua-scripts/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file './thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/luajit-2.1.0-beta3/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file './thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/loadall.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.so'
[36mnginx-thrift_1                 |[0m stack traceback:
[36mnginx-thrift_1                 |[0m 	[C]: in function 'require'
[36mnginx-thrift_1                 |[0m 	init_by_lua:3: in main chunk
[36mnginx-thrift_1                 |[0m nginx: [error] init_by_lua error: init_by_lua:3: module 'thrift' not found:
[36mnginx-thrift_1                 |[0m 	no field package.preload['thrift']
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lua-scripts/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file './thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/luajit-2.1.0-beta3/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file './thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/loadall.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.so'
[36mnginx-thrift_1                 |[0m stack traceback:
[36mnginx-thrift_1                 |[0m 	[C]: in function 'require'
[36mnginx-thrift_1                 |[0m 	init_by_lua:3: in main chunk
[36mnginx-thrift_1                 |[0m 2025/04/18 08:38:09 [error] 1#1: init_by_lua error: init_by_lua:3: module 'thrift' not found:
[36mnginx-thrift_1                 |[0m 	no field package.preload['thrift']
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lua-scripts/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file './thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/luajit-2.1.0-beta3/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file './thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/loadall.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.so'
[36mnginx-thrift_1                 |[0m stack traceback:
[36mnginx-thrift_1                 |[0m 	[C]: in function 'require'
[36mnginx-thrift_1                 |[0m 	init_by_lua:3: in main chunk
[36mnginx-thrift_1                 |[0m nginx: [error] init_by_lua error: init_by_lua:3: module 'thrift' not found:
[36mnginx-thrift_1                 |[0m 	no field package.preload['thrift']
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lua-scripts/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file './thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/luajit-2.1.0-beta3/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file './thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/loadall.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.so'
[36mnginx-thrift_1                 |[0m stack traceback:
[36mnginx-thrift_1                 |[0m 	[C]: in function 'require'
[36mnginx-thrift_1                 |[0m 	init_by_lua:3: in main chunk
[36mnginx-thrift_1                 |[0m 2025/04/18 08:38:16 [error] 1#1: init_by_lua error: init_by_lua:3: module 'thrift' not found:
[36mnginx-thrift_1                 |[0m 	no field package.preload['thrift']
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lua-scripts/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file './thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/luajit-2.1.0-beta3/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file './thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/loadall.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.so'
[36mnginx-thrift_1                 |[0m stack traceback:
[36mnginx-thrift_1                 |[0m 	[C]: in function 'require'
[36mnginx-thrift_1                 |[0m 	init_by_lua:3: in main chunk
[36mnginx-thrift_1                 |[0m nginx: [error] init_by_lua error: init_by_lua:3: module 'thrift' not found:
[36mnginx-thrift_1                 |[0m 	no field package.preload['thrift']
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lua-scripts/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file './thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/luajit-2.1.0-beta3/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file './thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/loadall.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.so'
[36mnginx-thrift_1                 |[0m stack traceback:
[36mnginx-thrift_1                 |[0m 	[C]: in function 'require'
[36mnginx-thrift_1                 |[0m 	init_by_lua:3: in main chunk
[36mnginx-thrift_1                 |[0m 2025/04/18 08:38:30 [error] 1#1: init_by_lua error: init_by_lua:3: module 'thrift' not found:
[36mnginx-thrift_1                 |[0m 	no field package.preload['thrift']
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lua-scripts/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file './thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/luajit-2.1.0-beta3/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file './thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/loadall.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.so'
[36mnginx-thrift_1                 |[0m stack traceback:
[36mnginx-thrift_1                 |[0m 	[C]: in function 'require'
[36mnginx-thrift_1                 |[0m 	init_by_lua:3: in main chunk
[36mnginx-thrift_1                 |[0m nginx: [error] init_by_lua error: init_by_lua:3: module 'thrift' not found:
[36mnginx-thrift_1                 |[0m 	no field package.preload['thrift']
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lua-scripts/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file './thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/luajit-2.1.0-beta3/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file './thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/loadall.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.so'
[36mnginx-thrift_1                 |[0m stack traceback:
[36mnginx-thrift_1                 |[0m 	[C]: in function 'require'
[36mnginx-thrift_1                 |[0m 	init_by_lua:3: in main chunk
[36mnginx-thrift_1                 |[0m 2025/04/18 08:38:56 [error] 1#1: init_by_lua error: init_by_lua:3: module 'thrift' not found:
[36mnginx-thrift_1                 |[0m 	no field package.preload['thrift']
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lua-scripts/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file './thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/luajit-2.1.0-beta3/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file './thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/loadall.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.so'
[36mnginx-thrift_1                 |[0m stack traceback:
[36mnginx-thrift_1                 |[0m 	[C]: in function 'require'
[36mnginx-thrift_1                 |[0m 	init_by_lua:3: in main chunk
[36mnginx-thrift_1                 |[0m nginx: [error] init_by_lua error: init_by_lua:3: module 'thrift' not found:
[36mnginx-thrift_1                 |[0m 	no field package.preload['thrift']
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lua-scripts/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.ljbc'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file './thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/luajit-2.1.0-beta3/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/share/lua/5.1/thrift/init.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/gen-lua/thrift.lua'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/site/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file './thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/lib/lua/5.1/loadall.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/luajit/lib/lua/5.1/thrift.so'
[36mnginx-thrift_1                 |[0m 	no file '/usr/local/openresty/lualib/thrift/thrift.so'
[36mnginx-thrift_1                 |[0m stack traceback:
[36mnginx-thrift_1                 |[0m 	[C]: in function 'require'
[36mnginx-thrift_1                 |[0m 	init_by_lua:3: in main chunk
^C[31mERROR[0m: Aborting.
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ curl http://localhost:8080/order?city=123
curl: (7) Failed to connect to localhost port 8080: Connection refused
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ cat > nginx_reverse_proxy/conf/nginx.conf << 'EOF'
> worker_processes 1;
> 
> events {
>     worker_connections 1024;
> }
> 
> http {
>     lua_package_path
>       '/usr/local/openresty/nginx/lua-scripts/?.lua'
>       ';/gen-lua/?.lua'
>       ';/usr/local/openresty/lualib/?.lua'
>       ';;';
> 
>     error_log on;
>     sendfile        on;
>     tcp_nopush      on;
>     tcp_nodelay     on;
>     keepalive_timeout  120s;
>     keepalive_requests 100000;
>     resolver 127.0.0.11 ipv6=off;
> 
>     init_by_lua_block {
>       local client = require "api/beverageservice/order"
>       local OrderBeverageServiceClient = require "vending_machine_OrderBeverageService"
>     }
> 
>     server {
>         listen 8080 reuseport;
>         server_name  localhost;
> 
>         location / {
>             default_type text/plain;
>             content_by_lua_block {
>                 local client = require "api/beverageservice/order"
>                 client.Order();
>             }
>         }
>     }
> }
> EOF
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker-compose build nginx-thrift
nginx-thrift uses an image, skipping
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker-compose up -d
vendingmachine_tutorial_weather-service_1 is up-to-date
vendingmachine_tutorial_order-beverage-service_1 is up-to-date
vendingmachine_tutorial_beverage-preference-service_1 is up-to-date
vendingmachine_tutorial_nginx-thrift_1 is up-to-date
]0;Nikhilns@node2: ~/vendingmachine_tutorial[01;32mNikhilns@node2[00m:[01;34m~/vendingmachine_tutorial[00m$ sudo docker-compose ps
                        Name                                       Command                 State                       Ports                  
----------------------------------------------------------------------------------------------------------------------------------------------
vendingmachine_tutorial_be